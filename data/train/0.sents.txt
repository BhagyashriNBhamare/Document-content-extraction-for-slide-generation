In a combinatorial auction m heterogenous indivisible items are sold to n bidders.
This paper considers settings in which the valuation functions of the bidders are known to be complement-free (a.k.a. subadditive).
We provide several approximation algorithms for the social-welfare maximization problem in such settings.
Firstly, we present a logarithmic upper bound for the case that the access to the valuation functions is via demand queries.
For the weaker value queries model we provide a tight O(√ m) approximation.
Unlike the other algorithms we present, this algorithm is also incentive compatible.
Finally, we present two approximation algorithms for the more restricted class of XOS valuations: A simple deterministic algorithm that provides an approximation ratio of 2 and an optimal e e−1 approximation achieved via randomized rounding.
We also present optimal lower bounds for both the demand oracles model and the value oracles model.
CF valuations to within a factor of 2 − , for any constant > 0.
better than e/(e − 1).
The last theorem shows that our algorithm for the class XOS is tight.1.3 Handling Selfishness.
In many settings in which the combinatorial auction problem arises, it is natural to assume that the bidders are selfish.
That is, the bidders are interested only in maximizing their own utility, and might therefore misreport their preferences if it suits their interests.
We are therefore interested in truthful algorithms that by introducing payments guarantee that if each bidder is to simply report his true value he will maximize his profit.
Surprisingly, to date, very few computationally-feasible truthful mechanisms for this problem are known that do not apply only to very restricted single-parameter domains.
We present an approximation algorithm that makes use of value queries only, and ensures truthfulness.
This approximation ratio may seem quite bad when contrasted with the fact that for the class of submodular valuations constant-approximation algorithms that use only value queries exist (e.g., by Lehmann et al. [12]).
However, it turns out that this algorithm is optimal in the value oracle model, even if all bidders have XOS valuations, and even ignoring truthfulness constraints: Theorem 1.6 Every approximation algorithm for combinatorial auctions with XOS bidders that uses only value queries, requires an exponential number of queries to achieve an approximation ratio better than m 1 2 − , for any constant > 0.1.4 Subsequent Work.
Subsequently to this paper, Feige [9] improved the upper bound for combinatorial auctions with complement-free valuations to 2.
This upper bound uses demand queries.
The communication lower bound we present implies that this upper bound is tight.We now discuss subsequent work related to submodular valuations.
Khot, Lipton, Markakis, and Mehta [11] showed that no approximation better than e e−1 using value queries only is possible, unless P = N P .
This lower bound was recently strengthened to an unconditional one by Mirrokni et al. [?]
.
Vondrak [21] has shown that this lower bound is tight by exhibiting a matching upper bound that uses value queries only.
In the demand queries model Feige and Vondrak [10] obtained an approximation ratio slightly better than e e−1 .
They also show that approximating the welfare with demand oracle in this case is APX-hard.
Another line of research which stemmed in this paper is obtaining truthful mechanisms for combinatorial auctions with complement-free valuations.
Dobzinski [4] obtained an approximation ratio of O(log m log log m) for subadditive valuations using a randomized mechanism, improving over a previous result of [6].
One of the main ingredients in these results is the 2-approximation algorithm for XOS valuations presented in this paper.
In addition, Feige [9], showed how to convert the log m log log m -approximation algorithm of this paper to a truthful one (under a weaker notion of truthfulness).
The best deterministic mechanism for complement-free valuations is still the O( √ m)-mechanism presented in this paper.Dobzinski and Nisan [5] proved that one cannot achieve a much better approximation factor using this type of algorithms -maximal in range algorithms (see the discussion in Section 5).1.5 Open Questions.
This paper and subsequent work determined the optimal bounds possible for the upper levels of the hierarchy, namely combinatorial auctions with XOS and complement-free valuations.
• The main open question is closing the gap between the known upper and lower bounds for submodular valuations in the demand oracles model.
In particular, no communication lower bound is known.
• It would also be interesting to achieve these approximation ratios using combinatorial algorithms (most state-of-the-art algorithms are based on randomized rounding of the LP relaxation of the problem).
• Another major open question which is still open is to determine how well truthful mechanisms can approximate the welfare in all levels of the hierarchy.2.
Definition and Representation of XOS.
This section discusses the definition and representation of XOS valuations.
Recall, that as discussed in the introduction the class of XOS valuations strictly contains the class of submodular valuations [12].
A valuation is called additive (a.k.a. linear) if for all S ⊆ M , v(S) = Σ j∈S v({j}).
Thus, an additive valuation is defined by the values a 1 , ..., a m it assigns to items 1, ..., m respectively.
We describe an additive valuations by the following clause:(x 1 : a 1 ∨ x 2 : a 2 ∨ ... ∨ x m : a m )We can now define XOS valuations: Definition 2.1 A valuation v is said to be XOS if there is a set of additive valuations {w 1 , ..., w t }, such that v(S) = max k {w k (S)} for all S ⊆ M .
We denote XOS valuations by(x 1 : w 1 ({x 1 }) ∨ ... ∨ x m : w 1 ({x m })) ⊕ ... ⊕ (x 1 : w t ({x 1 }) ∨ ... ∨ x m : w t ({x m }))where each of the clauses connected by the ⊕ sign represents an additive valuation.We note that the number of clauses t might be exponentially large.
We call a clause of an additive valuation w, for which v(S) = max k {w k (S)}, a maximizing clause for S in v (if there are several such clauses we arbitrarily choose one).
An XOS oracle is an oracle that given a bundle S returns a maximizing clause for S (for a specific valuation v).2.1 Efficiently Simulating XOS and Demand Queries.
We now show that if the input is given in the form of an XOS expression, XOS oracles and demand oracles can be simulated in time that is polynomial in the input size.
We also prove that if all valuations are submodular then value queries can simulate XOS queries in polynomial time.
Therefore, if all valuations are submodular, the algorithm presented in this section requires demand queries only (recall that a value query can be simulated by a polynomial number of demand queries [2]).
Proposition 2.1 Given an XOS valuation as an XOS expression, we can evaluate both XOS queries and demand queries in time polynomial in the input size.Proof.
Given an XOS valuation and a vector of prices we wish to simulate a demand oracle.
First, let us note that it is easy to simulate a demand oracle for an additive valuation in polynomial time, by simply choosing all profitable items.
Since the input is given as an XOS formula and each clause is an additive valuation, it is enough to simulate a demand oracle for each clause and choose the most profitable option.
The entire process requires time polynomial in the input size.If the input is not given as an XOS expression, then we do not know how to answer XOS queries given only a demand oracle.
However, for the more restricted class of submodular valuations, even the weaker value oracle suffices to answer XOS queries, as the following proposition shows: Proposition 2.2 An XOS clause for a bundle S of a submodular valuation v can be calculated in polynomial time using value queries only.Proof.
Given a bundle S we show how to construct the corresponding XOS clause.
Fix some arbitrary order of the items in S. Without loss of generality, let S = {1, . . . , |S|}.
Let t j be the marginal utility of the j'th item given the previous j − 1 items:t j = v({1, . . . , j}) − v({1, . . . , j − 1}).
The XOS clause is (t 1 ∨ . . . ∨ t |S| ).
All that we have to prove is that v(S) = Σ j∈S t j , and that for every T ⊆ S, v(T ) ≥ Σ j∈T t i .
For that we use an alternative definition of submodular valuations (see [12] for an equivalence proof): a valuation v is submodular if for every item j, and bundlesW, T , W ⊆ T , j / ∈ T , we have that v(W ∪ {j}) − v(W ) ≥ v(T ∪ {j}) − v(T ).
The first property holds simply by construction.
To see that v(T ) ≥ Σ j∈T t i , fix T , and let t T j be the marginal utility of item j in T , using the same order we used in S (that is, order the items in S, and delete items that are not in T , while keeping the relative order of the rest of the items).
Recall that an alternative definition of submodular valuation says that the marginal utility does not decrease when items are deleted, hence v(T ) = Σ j∈T t T i ≥ Σ j∈T t i Finally, to show that this clause can be constructed using value queries only, observe that we only have to calculate the marginal utility of an item, which can be done by two value queries for each item.3.
Approximating the Welfare with Demand Oracles.
Randomized rounding of an LPrelaxation of a problem is a standard technique, and our algorithms use it.
However, when one attempts randomized rounding on packing problems such as combinatorial auctions the results are not good; A randomized choice will very likely yield non-feasible solutions, unless the probabilities chosen reduce the expected quality of solution by a large O( √ m) factor.Both algorithms we present in this section start with a randomized rounding procedure for obtaining a "pre-allocation".
This allocation has a value that is close to the optimum, but unfortunately is not feasible.
Feasibility issues are handled differently in the complement free and the XOS cases, and indeed a much better ratio is obtained for the XOS case.Before describing the randomized rounding procedure, let us recall the standard LP relaxation for combinatorial auctions:Maximize: Σ i,S x i,S v i (S) Subject to: -For each item j: Σ i,S|j∈S x i,S ≤ 1 -for each bidder i: Σ S x i,S ≤ 1 -for each i, S: x i,S ≥ 0Even though the linear program has exponentially many variables, it may still be solved in polynomial time.
This is done by solving the dual linear program using the ellipsoid method.
Using the ellipsoid method requires a "separation" oracle, and this may be directly implemented using the demand oracles of the bidders.
This was first proven by Nisan and Segal [19], and in more details by Blumrosen and Nisan [2].
The pre-allocation is obtained via randomized rounding as follows: For each bidder i we independently choose a set S i by performing the following random experiment: each set S is chosen with probability x i,S , and the empty set is chosen with probability 1 − Σ S x i,S .
Observe that the randomized rounding solution outputs an integral solution with an expected value of OP T * , the optimal fractional solution.
However, the solution is not feasible, as an item might be allocated to more than one bidder.
The two algorithms we present greatly differ in how they solve this infeasibility.A word about the oracles needed to implement our algorithms.
The algorithm for complement-free valuations we present in this section requires access to a demand oracle (for each specific valuation v).
Both algorithms for XOS valuations we present require in addition access to an XOS oracle.3.1 Complement-Free Valuations.
Indeed, the pre-allocation produces a non-feasible solution.
However, these non-feasible solutions are only a logarithmic factor away from feasibility (in the sense that with high probability each item is allocated at most a logarithmic number of times).
For general valuations this fact does not help, but as we will show it suffices for CF valuations (see also [7] for another setting, the k-duplicates version of combinatorial auctions, in which this fact leads to good approximations).
The main observation at the heart of our algorithm is that one may partition this logarithmicallynon-feasible solution into a logarithmic-size family of feasible solutions.
For the case of complement-free valuations, the quality of one of these solutions can be bounded from below.The original version of the algorithm claimed a ratio of O(log m).
Feige [9] observed that the algorithm actually provides an approximation ratio of O( log m log log m ), and this is the ratio that is presented here.
We also note that Feige [9] presents an example which shows that the approximation ratio of the algorithm is at least Ω( log m log log m ).
(i) Use randomized rounding to find a "pre-allocation" S 1 , ..., S n of pairs < i, S i > with the following properties, where k = O( log m log log m ):• Each item j appears at most k times in {S i } i , with j ∈ S i .
• i v i (S i ) ≥ 1 3 · (Σ i,S x i,S v i (S)).
(ii) For each bidder i, partition S i into a disjoint union S i = S 1 i ∪ ... ∪ S k isuch that for each 1 ≤ i 1 < i 2 ≤ n and 1 ≤ r ≤ k, it holds that S r i1 ∩ S r i2 = ∅.
This is done as follows: for each i = 1, ..., n and each r = 1, ..., k, we let S r i = {j ∈ S i |j appears in exactly r − 1 of the sets S 1 , ..., S i−1 }.
(iii) Find the r that maximizes i v i (S r i ), and for each i allocate T i = S r i to bidder i. (iv) If there is a bidder i with v i (M ) ≥ Σ i v i (T i ) then allocate i all items (and allocate nothing to the rest of the bidders).
Theorem 3.1 If all input valuations are complement-free then the algorithm produces an allocation that is an O(k) = O( log m log log m )-approximation to the optimal one.We now prove the theorem.
Towards this end, let us keep track of the "quality" of solution implied by the intermediate steps.
(i) The randomized rounding procedure returns the optimal fractional solution OP T * = Σ i,S x i,S v i (S), which is an upper bound to the value of the integral optimal allocation, OP T .
The detailed calculations needed to prove that this step indeed ends with a solution that satisfies all the required conditions are given later.
At this point we will indicate the types of calculations used and what they yield.
From the first inequality of the LP and using standard probability bounds one can show that for every item j, the probability that it appears in more than k chosen sets is exponentially small in k.
The expected value of i v i (S i ) at this stage is only slightly less than Σ i,S x i,S v i (S) = OP T * .
It follows that with very high probability none of the required constraints are violated, and thus we havei v i (S) ≥ 1 3 · OP T * Dobzinskiet al.: Approximations Algorithms for CA's with CF Bidders Mathematics of Operations Research 00(0), pp.
xxx-xxx, c 20xx INFORMS 7 (ii) The main point here is that indeed for every fixed r, the sets {S r i } i are pairwise disjoint and are thus a valid allocation.
This follows directly fromthe construction, as every duplicate instances of every item j are allocated to sets S r i with sequentially increasing r. Note that we always keep r ≤ k since each item appears in at most k sets in {S i }.
(iii) The crucial use of complement-freeness comes here: since for each fixed i, S i = r S r i , the fact that v i is complement free implies that r v i (S r i ) ≥ v i (S i ).
By summing over all i we get that .
Thus, the allocation T 1 = S r 1 , ..., T n = S r n is an O( log(m) log log m ) approximation to the optimal allocation (and even to the optimal fractional allocation).
r i v i (S r i ) = i r v i (S r i ) ≥ i v i (S i ) ≥ 1 3 ·OP T * .
It3.1.1 Details of Stage (i).
For each j ∈ M , let E j denote the random variable that indicates whether j was allocated more than k times.
Let B be the random variable that indicates whetherv i (S i ) < 1 3 OP T * .
We will prove that Pr[∨ j E j ∨ B] < 5 6 .
We first prove that Pr[∨ j E j ] < 1n .
Fix an item j. Let Z i,j be the random variable that determines whether j ∈ S i .
Obviously, Z i,j receives values in {0, 1}.
Because of the randomized rounding method we used, we have that the variables {Z i,j } i are independent.
We define Z j = Σ i Z i,j (i.e., Z j is the number of times item j appears in {S i }).
By the linearity of expectation and the first condition of the LP formulation we have that E[Z j ] ≤ 1.
We now use the following known proposition, (see, e.g., the book by Mitzenmacher and Upfal [14]):Lemma 3.1 Let X 1 ,...,X n (for sufficiently large n) be independent Bernoulli trials such that for 1 ≤ i ≤ m, Pr[X i = 1] = p i , and Σ i p i = 1.
Let X = X 1 + ... + X m .
Then Pr[X > 3 log m log log m ] ≤ 1 m 2and thus we have that Pr[item j appears in more than log m 3 log log m bundles in{S i }] ≤ 1 m 2By applying the union bound we get that the probability that any one of the items appears in more than log m 3 log log m bundles in {S i } is smaller than m · 1 m 2 = 1 m .
We will now prove that Pr[B] < 3 4 .
W.l.o.g. max i v i (M ) = 1 (otherwise, we can divide all valuations by max i v i (M )).
If OP T * ≤ 3, then giving M to the bidder that maximizes v i (M ), is a feasible allocation which provides a good approximation.
Therefore, from now on we assume that OP T * > 3.
Let A be the random variable that gets the value of Σ i v i (S i ) after step (i).
We will see that A ≥ Σ i v i (S) 3 with high probability.We make use of the following corollary from Chebyshev's inequality:Lemma 3.2 Let X be the sum of independent random variables, each of which lies in [0,1], and letµ = E[X].
Then, for any α > 0, Pr[|X − µ| ≥ α] ≤ µ α 2 .
We can now upper bound the probability that event B occurs.Pr[B] = Pr[A < OP T * 3 ] ≤ Pr[|A − OP T * | ≥ 2OP T * 3 ] ≤ 9 4OP T * ≤ 3 4the last inequality is because OP T * > 3.
Therefore, using the union bound:Pr[∨ m t=1 E t ∨ B] ≤ Σ j∈M Pr[E j ] + Pr[B] ≤ 1 n + 3 4 < 5 6We have shown that with good probability it is possible to create a solution for which all the necessary conditions hold.Dobzinski et al.: Approximations Algorithms for CA's with CF Bidders Mathematics of Operations Research 00(0), pp.
xxx-xxx, c 20xx INFORMS 3.2 XOS Valuations.
The algorithm presented in this section is based on exploiting the structure of the syntactically defined XOS class.
Recall that the class of XOS valuations strictly contains submodular valuations.The algorithm starts by obtaining a pre-allocation as described in the beginning of the section, where each bidder gets at most one bundle.
The next step is to "replace" the valuation of a bidder with the XOS clause that corresponds to the bundle he got in the pre-allocation.
Now we find the optimal solution using the "new" valuations.
Observe that a simple greedy algorithm finds the optimal allocation if all bidders have additive valuations.We are left with showing that the value of the generated allocation is not too far from the optimal fractional solution.
Once again, the syntactic properties of XOS come to our aid: we analyze the algorithm by separately setting a lower bound on the contribution of each single item to the total social welfare.
(i) Obtain a "pre-allocation" S 1 , ..., S n using the randomized rounding procedure.
(ii) Let (x 1 : p i 1 ∨ ... ∨ x m : p i m ) be the maximizing clause for S i in v i .
(iii) Allocate the j'th item to bidder i for which p i j ≥ p i j , for all i ∈ N .
Note that Step (i) requires access to a demand oracle, and Step (ii) requires access to an XOS oracle.
We do not know if an XOS oracle can be simulated using demand queries only, in the case of general XOS valuations.
However, if a valuation is submodular, a demand oracle (and in fact, a value oracle) suffices, as was shown before.
Thus, if all valuations are submodular only demand oracles are needed to implement the algorithm.
1 1−(1− 1 n ) n )-approximation to the optimal one.Proof.
Observe that the allocation produced by the algorithm is indeed a feasible one.
Thus, all that is left to prove is that it achieves the desired approximation ratio.For every bidder i and bundle S, let (x 1 : p(i,S) 1 ∨ ... ∨ x m : p (i,S)m ) be the maximizing clause for S in v i .
It holds that:OP T * = Σ i,S x i,S v i (S) = Σ i,S x i,S (Σ j p (i,S) j ) = Σ j (Σ i,S x i,S p (i,S) j )Let Q j be the random variable that equals max i∈N {p i j }, after the randomized rounding step.
Let ALG be the random variable that receives the value of the total social welfare after assigning each item as in the algorithm.
Due to the properties of XOS valuations, ALG ≥ Σ j Q j .
This is because if (x 1 : p(i,S) 1 ∨ ... ∨ x m : p (i,S)m ) is the maximizing clause of S in v i then, by XOS, for everyT ⊆ S Σ j∈T p (i,S) j ≤ v i (T ).
We will now show that the expectation of Q j is bounded from below by (1− (1 − 1 n ) n ) · (Σ i,S x i,S p (i,S) j).
Thus, by the linearity of expectation:E[ALG] ≥ Σ j E[Q j ] ≥ Σ j (1 − (1 − 1 n ) n ) · (Σ i,S x i,S p (i,S) j ) = (1 − (1 − 1 n ) n )OP T * Lemma 3.3 For every item j, E[Q j ] ≥ (1 − (1 − 1 n ) n ) · (Σ i,S x i,S p (i,S) j )Proof.
Fix an item j.
We will lower bound the expected value of E[Q j ] by considering a different way of assigning j. LetX j i = Σ S|j∈S x i,S and V j i = Σ S|j∈S x i,S p (i,S) j X j i.
That is, X i is the probability that bidder i gets item j in the "pre-allocation", and V j i is the expected value of j to bidder i, conditioned on i receiving j in the "pre-allocation".
Order the bidders in the decreasing order of their V j i 's.
Without loss of generality, let us assume this order to be 1, ..., n.
We assign j to the highest ranked (first) bidder who got item j in the "pre-allocation".
Denote by T j the expected value of j in this allocation.Observe that E[Q j ] ≥ E[T j ] because E[Q j ]is the expected value of item j when j is always assigned to the bidder with the highest (per-item) value for j in the "pre allocation" (as in the algorithm).
Therefore, to prove the lemma we will bound E[T j ] from below.
It is easy to see thatE[T j ] = X j 1 V j 1 + (1 − X j 1 )X j 2 V j 2 + ... + (1 − X j 1 )(1 − X j 2 ) · ... · (1 − X j n−1 )X j n V j nNote that, due to the first condition of the LP, X j 1 + ... + X j n ≤ 1.
Therefore, we have for every 1 ≤ k ≤ n that:1 − (1 − X j 1 ) · ... · (1 − X j k ) ≥ 1 − (1 − Σ k i=1 X j i k ) k ≥ (1 − (1 − 1 k ) k )Σ k i=1 X j i ≥ (1 − (1 − 1 n ) n )Σ k i=1 X j i (1)where the last two inequalities are derived using elementary calculus.
Define V j n+1 = 0.
Multiplying Equation 1 by (V j k − V j k+1 ) for every 1 ≤ k ≤ n, and summing over all k's shows that:E[T j ] ≥ (1 − (1 − 1 n ) n )(Σ i V j i X j i ) = (1 − (1 − 1 n ) n )(Σ i,S|j∈S x i,S p (i,S) j )3.3 A Combinatorial 2-Approximation Algorithm for XOS Valuations.
We now present a 2-approximation algorithm for combinatorial auctions with XOS bidders.
While the approximation guarantee is worse than the e e−1 guarantee of the previous algorithm, the current algorithm is combinatorial, fast, and simple.
Notice that in Step (ii)a we require access to a demand oracle, and in Step (ii)c we require access to an XOS oracle.
Proof.
For each T ⊆ M , we denote by p i (T ) the sum of the prices of the items in T at the i'th stage of the algorithm.
Let ∆ i = p i (M ) − p i−1 (M ), i.e., the total difference in prices between stages (i − 1) and i (with p 0 (M ) = 0).
Let A 1 , ..., A n be the allocation generated by the algorithm.
Let O 1 , ..., O n be the optimal allocation.
We will prove theΣ i v i (O i ) ≤ 2Σ i v i (A i ).
To do so, we prove three simple lemmas:Lemma 3.4The social welfare of the allocation generated by the algorithm is at least the sum of items' prices at the end of the algorithm (after the n'th stage).
That is, p n (M ) ≤ Σ i v i (A i ).
Proof.
Consider a specific bidder i. Let T be the bundle assigned to that bidder by the algorithm in stage i. Obviously A i ⊆ T .
Because v i is an XOS valuation, we have that p i (A i ) ≤ v i (A i ).
However, since the items in A i were not reassigned after the i'th stage, and so their prices were not altered,p i (A i ) = p n (A i ).
We have that p n (A i ) ≤ v i (A i ), and so p n (M ) = Σ n i=1 p n (A i ) ≤ Σ n i=1 v i (A i ).
Lemma 3.5 The prices assigned to the items throughout the execution of the algorithm are non-decreasing.
Proof.
By contradiction.
Let S be the set that maximizes the demand of the i'th bidder at the i'th stage of the algorithm.
Let (x 1 : q 1 ∨ ... ∨ x m : q m ) be the XOS clause of S in v i .
Now, assume there is an item j ∈ S for which q j < p i j .
v i is an XOS valuation and so we have that Σ t∈(S−{j}) q t ≤ v i (S − {j}) and Σ r∈S q r = v i (S).
Hence:v i (S) − Σ r∈S p i r = Σ r∈S q r − Σ r∈S p i r = (q j − p i j ) + (Σ t∈(S−{j}) q t − Σ t∈(S−{j}) p i t ) < (Σ t∈(S−{j}) q t − Σ t∈(S−{j}) p i t ) < v i (S − {j}) − Σ t∈(S−{j}) p i tand this is a contradiction to the definition of S.Lemma 3.6 The social welfare of the optimal allocation is at most twice the sum of items' prices at the end of the algorithm.
That is,Σ i v i (O i ) ≤ 2p n (M ).
Proof.
Recall that ∆ i represents the "demand" of player i at prices p i−1 .
Hence, for each i, 1 ≤ i ≤ n, ∆ i = max T ⊆M (v i (T ) − p i−1 (T )) (otherwise, i would have chosen a different bundle of items).
We have:v i (O i ) − p i−1 (O i ) ≤ ∆ i .
since the prices do not decrease throughout the algorithm, the following inequality holds:v i (O i ) − p n (O i ) ≤ ∆ i .
by summing up on both sides of the equation we get:Σ n i=1 v i (O i ) − Σ i p n (O i ) ≤ Σ i ∆ i Σ i v i (O i ) − p n (M ) ≤ p n (M ) Σ i v i (O i ) ≤ 2p n (M )Putting the lemmas together we have thatΣ i v i (O i ) ≤ 2p n (M ) ≤ 2Σ i v i (A i )The following example shows that the algorithm cannot achieve an approximation ratio better than 2: consider a combinatorial auction with two goods, a and b, and two bidders.
The first bidder's valuation is v 1 ({a}) = v 1 ({b}) = v 1 ({a ∪ b}) = 1.
The valuation of the second bidder is v 2 ({a}) = 0, v 2 ({b}) = v 2 ({a ∪ b}) = 1.
A welfare of 2 can be achieved by allocating a to the first bidder, and b to the second bidder.
However, the first bidder might wish to get b at the first stage, and the optimal social welfare achieved is only 1.
Hence, the approximation ratio achieved by the algorithm is not better than 2.
Proof.
Nisan [15] considers the following combinatorial auction: each bidder i has a set T i of bundles that he is potentially interested in.
We also have that all the T i 's have the same size, t.
A specific instance of this combinatorial auction is determined by specifying a set I i for each bidder i, I i ⊆ T i , which denotes the bundles our bidder is interested in.
The valuation of each bidder i is the following: v i (S) = 1 if there exists some R ∈ I i such that R ⊆ S, and 0 otherwise.
Nisan shows that distinguishing between the case where there is (1) an allocation that assigns each bidder i a (superset of a) set he is interested in from I i (and so the optimal welfare is n), and between (2) only one bidder is assigned a superset of a bundle from I i he is interested in (and so the optimal welfare is 1), requires t bits of communication, for t that is exponential in n and m (for n < m 1 2 − ), for any constant > 0.
This shows in particular that every approximation algorithm that provides an approximation ratio better than n for combinatorial auctions with general valuations requires exponential communication.Let us now reduce this combinatorial auction to make the valuations complement free.
Define new complement-free valuations as follows: v i (S) = v i (S) + 1, for S = ∅.
These new valuations are indeedDobzinski et al.: Approximations Algorithms for CA's with CF Bidders Mathematics of Operations Research 00(0), pp.
xxx-xxx, c 20xx INFORMS 11 complement free, since the value of each non-empty bundle is at least 1, and no bundle has a value larger than 2.
Consider an instance with valuations v 1 , . . . , v n .
We can see that distinguishing between the following cases requires exponential communication: the optimal social welfare is n + 1, and the optimal social welfare is 2n (since distinguishing between these cases is equivalent to distinguishing between the corresponding cases in the auction presented in [15]).
Hence, we have proved that for every n ≥ 2 achieving Proof.
We will show a polynomial-time reduction from MAX-k-COVER.
MAX-k-Cover is defined as follows: Given m items, and a collection of subsets of these items, the objective is to maximize the number of items which can be covered by k subsets.
Feige [8] proved that it is NP-hard to approximate this problem within a better factor than e e−1 .
This problem can be converted into a combinatorial auction with XOS valuations: given an instance of MAX-k-COVER, we create an auction with k bidders and m goods.
All bidders will have the same XOS valuation: a clause for each subset in the MAX-k-COVER problem where the value of every item in the clause is 1.
Observe that every choice of k subsets in the MAX-k-COVER corresponds to an allocation in the combinatorial auction with the same value, by assigning all items in set i to bidder i (and avoid assigning one item to more then one bidder).
In the other direction, every allocation corresponds to a choice of k sets in MAX-k-COVER with at least the social welfare value: choose k subsets, so that subset i contains the items in the clause maximizing bidder i's gain.
Hence, we are guaranteed that the number of items covered is no less than the social welfare.
The theorem follows.Next we prove an unconditional communication lower bound.
The proof is based on reduction from the approximate-disjointness problem using a probabilistic construction.
The reduction relies on a combinatorial structure that guarantees the required gap between the optimal solution and all other solutions.
We first define this structure, and then prove its existence via the probabilistic method.
Proof.
We will prove our lower bound by reducing from the approximate disjointness problem.
In this problem, there are n players, each player i holds a string A i which specifies a subset of {1, ..., t}.
The goal is to distinguish between the following two extreme cases: • ∩ n i=1 A i = ∅ • for every i = j, A i ∩ A j = ∅Alon et al. [1] prove that the communication complexity of this problem is Ω( t n 4 ).
This result also holds for randomized protocols with bounded 2-sided error.We show a reduction from the approximate-disjointness problem on vectors of size t = e 2m n to the problem of finding an optimal solution in combinatorial auctions with XOS bidders.
We then prove a communication lower bound for distinguishing between the case the optimal value is m and the case it is m[1 − (1 − 1 n ) n ].
Definition 4.1 A set of partitions F = {P s } s=1,...,t is said to have the (n, )-covering property if for every choice of indices 1 ≤ s 1 , s 2 , ...s n ≤ t, such that no two are equal, it holds that| ∪ n i=1 P i s i | ≤ m[1 − (1 − 1 n ) n + ].
Lemma 4.1 For every > 0, there exists a set F of partitions with the (n, )-covering property of size|F | = t = e (1−(1− 1 n ) n )mm 2 3n .
Proof.
We use probabilistic construction to obtain such a set: each partition P s will be chosen independently at random (each element will be placed in exactly one of the P i s with equal probability).
We will require the following version of the Chernoff bounds:Lemma 4.2 Let X 1 , ..., X m be independent random variables that take values in {0, 1}, such that for all i, Pr[X i = 1] = p for some p. Then, the following holds, for 0 ≤ ≤ 1:Pr[Σ i X i > (1 + )pm] ≤ e − pmm 2 3Fix indices: 1 ≤ s 1 , s 2 , ..., s n ≤ t, such that no two are equal.
For every j ∈ M let Y j be the random variable that receives a value of 1 if j ∈ ∪ n i=1 P i si and 0 otherwise.Observe that E[Y j ] = 1 − (1 − 1 n ) n .
Using the last claim, we have that for any 0 < < 1:Pr[| ∪ n i=1 P i si | > (1 + )m[1 − (1 − 1 n ) n ]] = Pr[Σ j Y j > (1 + )m[1 − (1 − 1 n ) n ]] ≤ e − (1−(1− 1 n ) n )mm 2 3Since there are at most t n choices of such indices we have that as long as t n < e(1−(1− 1 n ) n )mm 2 3such a set of partitions exists.We are now left with describing the reduction.
Assume an instance of the approximate-disjointness problem on vectors of size t = e(1−(1− 1 n ) n )mm 2 3n, in which player i receives the string A i ⊆ {1, ..., t}.
We reduce it into a combinatorial auction with n bidders, each with XOS valuation, in the following manner:Let M = {1, ..., m}.
Player i will construct the collection B i = {P i s |s ∈ A i }.
Bidder i's valuation will consist of |B i | clauses: ⊗ T ∈B i (∨ t∈T t = 1).
In words, each clause corresponds to a set the player is interested in, and this clause gives a value of 1 to an item if it belongs to the wanted set, and 0 otherwise.Observe that if there exists s ∈ ∩A i , then there is an allocation in which all items are allocated, and the value of the bundle each player gets is simply the number of items he gets.
Thus, the value of this allocation is m. On the other hand, if for every i = j, A i ∩A j = ∅ then the value of the optimal solution is at most(1 + )m[1 − (1 − 1 n ) n ].
The second observation is since the sets have the (n, )-covering property, so the players get together a value of at most ((1 + )m[1 − (1 − 1 n ) n ])m from the allocated items.
Since the communication complexity of the approximate-disjointness problem is Ω( t n 4 ), in our case it is Ω(e(1−(1− 1 n ) n )mm 2 ln n 3n).
In particular, as long as m 1− > n, and for any constant 0 < < 1, the communication complexity is exponential.
This concludes the proof of the theorem.5.
Truthful Approximations using Value Queries.5.1 VCG and Maximal in Range Algorithms.
Arguably the main positive result of mechanism design is the VCG payment scheme.
Let us describe this payment scheme when applied to combinatorial auctions.
First, find the optimal solution (O 1 , ..., O n ), and allocate accordingly.
Then, pay each bidder the sum of the utilities of the rest of the bidders.
That is, bidder i receives a payment of Σ k =i v k (O k ).
Let us examine the total utility of bidder i: v i (O i ) + Σ k =i v k (O k ) (the value he gains from the bundle he got plus his payment).
Hence, the total utility of each bidder is equal to the value of the allocation.
Observe that the allocation that maximizes the utility of the bidders is the optimal one.
Bidding untruthfully can only result in changing the allocation to a suboptimal one, hence decreasing the utility of the bidder.
Thus bidding truthfully is the best action for each bidder 2 .
See [17] for a more formal discussion.The obvious drawback of using the VCG mechanism is that it requires us to find the optimal solution.
In many settings finding the optimal solution is not computationally feasible, and this is true in particular in the settings considered in this paper.
In general, obtaining an approximate solution using an approximation algorithm and using the VCG payment scheme (paying each bidder the sum of the utilities of the rest of the bidders) does not result in a truthful mechanism.
In fact, Nisan and Ronen [18] show that an approximation algorithm becomes truthful using the VCG payment scheme if and only if the underlying algorithm, is essentially maximal in range.An algorithm is maximal in range if it limits the range of possible allocations to a smaller set, and finds the optimal allocation within this restricted range.
Incentive compatibility immediately follows using the same argumentation as before since we find the optimal allocation in the restricted range.
The main challenge in the design of these algorithms is therefore to identify a subset of the range in which complete optimization is computationally feasible, and then showing that the optimal solution within the restricted set of solutions always provides the required approximation ratio.
We present a maximal in range algorithm for combinatorial auctions with complement-free bidders.
This algorithm makes use of value queries only.
The approximation ratio of this algorithm is O( √ m).
In contrast, Dobzinski and Schapira [7] and Blumrosen and Nisan [2] showed that for general valuations there is a lower bound of O( m log m ) for the value oracles model.
Proof.
Observe that the algorithm's running time is polynomial in n and m, since maximal weighted matching in bipartite graphs can be solved in polynomial time (in m and n).
The algorithm is clearly a maximal-in-range algorithm, and thus incentive compatibility is guaranteed by the use of the VCG payment scheme.
Let us now prove that the algorithm provides the desired approximation ratio.
Let OP T = {T 1 , ..., T k , Q 1 , ..., Q l } be the optimal allocation in the original auction, where for each 1 ≤ i ≤ k, |T i | < √ m, and for each 1≤ i ≤ l, |Q i | ≥ √ m. Let |OP T | = Σ l i=1 v i (Q i ) + Σ k i=1 v i (T i ).
The first case we consider is when Σ l i=1 v i (Q i ) ≥ Σ k i=1 v i (T i ).
Clearly, Σ l i=1 v i (Q i ) ≥ |OP T | 2 .
Since l ≤ √ m (otherwise, more than m items were allocated), for the bidder i that maximizes v i (O i ) it holdsthat v i (M ) ≥ v i (Q i ) ≥ |OP T | 2 √ m. Thus, by assigning all items to bidder i we get the desired approximation ratio.Consider the case in whichΣ k i=1 v i (T i ) > Σ l i=1 v i (Q i ).
Clearly, Σ k i=1 v i (T i ) > |OP T | 2.
For each i, 1 ≤ i ≤ k, let c i = arg max j∈T i v i ({j}).
Notice, that v i ({c i }) ≥ vi(Ti)|T i | (this is due to the CF property:|T i | · v i ({c i }) ≥ Σ j∈T i v i ({j}) ≥ v i (T i )).
Since for all i's |T i | < √ m, we have that: Σ k i=1 v i (c i ) > Σ i v i (T i ) √ m ≥ |OP T | 2 √ m. By assigning c i to bidder i we get an allocation in which every bidder gets at most one item with a social welfare ofΣ k i=1 v i ({c i }) ≥ |OP T | 2 √ m.
The second allocation, therefore, guarantees at least that social welfare.
We conclude that the approximation ratio the algorithm guarantees is at least O( √ m).6.
A Lower Bound for the Value Oracles Model.
The proof of the lower bound takes a concrete complexity approach.
That is, the input is given as a black box that can only answer a specific type of queries.
We only measure the number of queries an algorithm must make in order to achieve a certain approximation ratio.
In particular we ignore any computational work that needs to be done.
We stress that the lower bound we achieve does not depend on any unproven computational assumption.
Proof.
Fix a small constant δ > 0.
We shall construct a combinatorial auction with m items and k = √ m bidders.
For every S, let a S be the additive valuation that assigns a value of 1 to each item j ∈ S, and 0 to each item j / ∈ S. Let ¯ a be the additive valuation that assigns every item j ∈ M a value of 1+δ Again, using the fact that T i is chosen uniformly at random we claim that that Pr[|S ∩ T i | > (1 + δ) |S|m 1 2 −δ ] is exponentially small.We conclude that for every bundle S, only with exponentially small probability does one gather sufficient information to distinguish between the case that i's valuation is v i and the case that it is v i .
Hence, with constant probability it requires an exponential number of value queries to distinguish between v i and v i .
This concludes the proof of the theorem.
