Mobile devices have fewer antennas than APs due to size and energy constraints.
This antenna asymmetry restricts uplink capacity to the client antenna array size rather than the AP's.
To overcome antenna asymmetry, multiple clients can be grouped into a simultaneous multiuser transmission to achieve a full rank transmission that matches the number of antennas at the AP.
In this paper , we design, implement, and experimentally evaluate MUSE, the first distributed and scalable system to achieve full-rank uplink multiuser capacity without control signaling for channel estimation, channel reporting, or user selection.
Our experiments demonstrate full-rank multiplexing gains in the evaluated scenarios that show linear gains as the number of users increase while maintaining constant overhead.
Form factor and energy constraints result in mobile clients having significantly fewer antennas than access points (APs), e.g., 1 or 2 for clients vs. 8 or even more for massive MIMO APs [1,2].
When an AP serves a single user at a time, this asymmetry severely restricts capacity with limits defined by the client antenna array size rather than the AP's.
Fortunately, both theoretical results and practical implementations have shown that multiple clients can be grouped into a simultaneous multi-user (MU-MIMO) transmission.
The transmission can achieve "full rank" when the group of clients form a virtual array having the same number of antennas as the AP [1,2,3,4,5].
While this technique is already standardized [6,7] and commercialized [8,9] for the Wi-Fi downlink, the uplink still serves a single user at a time, as specified in the original 1997 Wi-Fi standard [10].
In this paper, we design, implement, and experimentally evaluate MUSE, the first system to achieve fullrank uplink multi-user capacity without requiring a control channel.
1 Namely, mirroring the functionality of downlink standards for the uplink would require a control channel (set of control message exchanges, etc.) for mechanisms such as channel estimation, reporting of channel state, joint stream precoding, orthogonal user selection, and control of the timing of user transmissions.
In contrast, we develop MUSE to scale not only raw physical layer capacity, but also system throughput after incorporating all protocol overhead.
In particular, we present the following contributions.First, we design three physical layer components to enable the aforementioned MUSE properties (MUSE- PHY).
(i) In order for multiple users to transmit simultaneously, their combined transmissions must be sufficiently orthogonal to be successfully decoded by the AP.
Rather than measuring channels and performing user selection, indoor multipath induces sufficient channel independence for an arbitrary group of users to transmit concurrently.
However, precise channel estimation is required at the receiver, the AP must estimate the joint channel state in order to separate and decode the streams.
We introduce the Dynamic Orthogonal Mapping (DOM) matrix as a mechanism compatible with the IEEE 802.11 standard, that allows the AP to obtain clean channel estimations from all independent distributed transmitters.
We redesign the 802.11n SU-MIMO (Single User MIMO) channel estimation to function with multiple distributed users.
Contrary to the requirement that multiplexing capabilities of SU-MIMO be pre-configured at the transmitter, in MUSE, DOM is dynamically matched according to the transmission and only statically limited by the receiver (AP).
DOM preamble-based channel training avoids the non-scalable approach of sequentially training one user at a time.
(ii) DOM channel training requires the same symbols to be transmitted by all the distributed stations and can result in signal correlation and unintended beamforming.
Exploiting cyclic de-lay diversity to increase diversity in the signal paths [3], we introduce Arbitrary Cyclic Shift Delay (aCSD) to maximally decorrelate users' signals at the transmitters.
Recognizing that there is no control channel among the transmitters and leveraging their physical separation, we employ arbitrary cyclic shift delays applied independently by each transmitter and demonstrate that these achieve the desired multiplexing gains in a distributed and non-channel-dependent manner.
(iii) Lastly, because MUSE lacks a control channel, the number of uplink data streams is not fixed before the transmission.
Consequently, the MUSE design supports a variable number of arbitrarily selected users and provides flexibility and robustness to unknown client backlog state via dynamic use of the DOM matrix.Second, we design a medium access control protocol (MUSE-MAC) that exploits the unique MUSE physicallayer capabilities.
Namely, without MUSE-PHY, the MAC design would require a control protocol with mechanisms described above such as: feedback of channel state, selection of an orthogonal group of transmitters, alignment of their timing, and elimination of uncertainty in the number of transmitting users.
In contrast, we exploit MUSE-PHY's ability to support an arbitrary set of users and design MUSE-MAC to select a group of arbitrary users with the rank of the group not exceeding the number of antennas at the AP.
In principle, a random group could be selected by invoking the existing WiFi random access technique multiple times in sequence, once to select each user, with the process ending when the rank limit is reached.
Unfortunately, such a procedure would require control overhead (in the form of messages and backoff delays) that increases linearly with rank.
In contrast, we select a group of users with a single contention in which all backlogged users independently contend for the channel using the same Wi-Fi random access count-down procedure.
When a single user wins the channel, MUSE-MAC attaches a random set of additional users to the winning user via a predetermined operation that is a function of each user's Wi-Fi standard Association ID.
The groups are consequently arbitrary (emulating randomly selected) but predefined, since association IDs are predefined.
In this way, we eliminate the need for a group-selection control procedure for each transmission as the MUSE-PHY ensures that a random set of users can be decoded.
Even though Association ID grouping may be considered fixed, MUSE enables group adaptation through the reassignment of Association IDs by utilizing 802.11 standardized Reassociation Request and Response procedure.Finally, we implement MUSE on a software-definedradio platform, create a WLAN testbed, and evaluate performance using extensive over-the-air experiments.
We demonstrate full rank multiplexing gains by orthogonal spatial spreading the distributed transmitters and maintaining a constant overhead as the number of users increases.
Specifically, MUSE achieves on average 197%, 290% and 395% aggregate PHY throughput for 2 to 4 concurrent served users respectively.
We find that aCSD enables the distributed transmitters to effectively induce multipath in the form of variable phase offset, which results in accurate channel estimation using the DOM matrix.
Further, we evaluate the effectiveness of random user grouping and find that while the vast majority of user groupings yield full rank, ill-conditioned channels can occur, necessitating reduction of modulation and coding rate to counter interference.
Lastly, we evaluate medium access scalability and demonstrate that as the number of users increases, MUSE MAC-layer throughput, incorporating overhead, scales linearly.
MUSE achieves 2.5x higher throughput for a 16 antenna system compared to prior multi-user uplink schemes [11,12].
In this section, we introduce background in channel estimation for multi-user transmissions and present MUSE's key PHY techniques that enable interference-free channel estimation, decorrelate users' channels, and enable arbitrary user selection.
Channel State Information (CSI) at the transmitter (CSIT) or receiver (CSIR) is necessary for multi-stream communication, i.e., for simultaneously spatially multiplexing independent data streams.CSIT: One method for multi-stream transmission is transmitter-based precoding in order to nullify or zeroforce the inter-stream interference, e.g., [4].
Transmit beamforming requires CSIT which is obtained via a closed-loop process in protocols such as IEEE 802.11ac [6,7].
As shown in Figure 1, a closed-loop approach uses receiver feedback of the estimated CSI.
The transmitter then uses CSIT-based signal precoding to uncorrelate users' channels and achieve stream orthogonality with reduced inter-stream interference.
2 This process of collecting CSIT, also termed channel sounding, requires exchange of control information that scales linearly with the number of users, thereby decreasing throughput proportionately due to the resulting air-time cost of control overhead.CSIR: An open-loop receiver based approach is illustrated in Figure 1, performs CSI acquisition at the receiver at the time of packet transmission.
Such CSIR estimation is performed through predefined preamble sequences, enabling the receiver to compute the unknown channel given the known preamble data.
In an open-loop system, transmitters do not have CSIT.
The key benefit of use of CSIR is elimination of control overhead for CSI feedback.
However, the main drawback of an open-loop approach is that transmitted streams could have correlated channels yielding inter-stream interference.
MUSE open-loop design must address inter-stream interference and correlated channels among concurrent users.
To obtain precise CSIR and decode the multi-user transmit data, the estimated CSIR must contain the combination of all transmit signals.We design channel training to be compatible with the IEEE 802.11 standard where we expand the usage of the 802.11n SU-MIMO channel estimation to function with multiple distributed users.
We present the first generalization of the preamble-based channel training of 802.11n to be used by distributed transmitters to achieve multi-user spatial multiplexing gains.To illustrate MUSE CSIR estimation, consider a 2x2 multi-user uplink transmission in which two clients concurrently communicate with a two antenna AP as shown in Figure 2, which depicts the four channels between the clients and AP.Following the procedure of 802.11n channel training, the preamble training signals must be transmitted at the same time.
While in 802.11n this is easily achievable due to having a single transmitter, in MUSE we expand channel estimation to multiple users.
Our MAC design (Section 3) ensures the training signals are sent simultaneously.
In effect, receiver antenna Y 1 receives combined high throughput preamble, HTLTF, of both transmitters X 1 and X 2 .
Equation (1) shows the frequency domain representation of the signals received by the AP for a single subcarrier sc.
y sc 1 and y sc 2 represent the received signals for antenna 1 and 2 respectively and h rx,tx represent the channel taps for a given receiver-transmitter antenna combination.
y sc 1 = ˆ h sc 11 · HT LT F + ˆ h sc 12 · HT LT F + z sc 1 y sc 2 = ˆ h sc 21 · HT LT F + ˆ h sc 22 · HT LT F + z sc 2(1)As observed we have four unknown channels( ˆ h 11 , ˆ h 12 , ˆ h 21 , ˆ h 22 )and only two receive antenna equations (Y 1 ,Y 2 ).
Consequently to be able to resolve all four unknown channels we require four preamble transmissions with a specific linear combination that allows estimation of each channel.
The 802.11n standard adds a second set of preamble transmissions with a corresponding linear combination to allow the derivation of all unknown channels as shown in Equation (2).
However, when we expand this functionality to multiple-users without a control channel to coordinate the distributed users, these users are required to know the number of preamble signals to send and the linear combination that enables the channel estimation.y sc 1,t 1 = ˆ h sc 11 · HT LT F + ˆ h sc 12 · HT LT F + z sc 1,t1y sc1,t 2 = − ˆ h sc 11 · HT LT F + ˆ h sc 12 · HT LT F + z sc 1,t2y sc2,t 1 = ˆ h sc 21 · HT LT F + ˆ h sc 22 · HT LT F + z sc 2,t1y sc2,t 2 = − ˆ h sc 21 · HT LT F + ˆ h sc 22 · HT LT F + z sc 2,t2(2)Consequently, we introduce the DOM matrix which represents the full-rank version of the 802.11n orthogonal mapping matrix and is made available to all devices irrespective of their number of RF chains:DOM =     1 −1 1 1 1 1 −1 1 1 1 1 −1 −1 1 1 1     .
(3)The dimension of the DOM matrix is dependent on the number of spatial streams (N SS ) and the number of HTLTF (N HT LT F ) transmitted.
While the size of the 11n-standard orthogonal mapping matrix depends on the available RF chains of the transmitter, in DOM, the matrix size is fixed to the AP's full-rank version of the 802.11n matrix, yet it operates dynamically as follows.Through MUSE-MAC design, the distributed users obtain the total number of spatial streams in the multiuser transmission and the assigned Stream ID.
With this information and the DOM matrix, the distributed users transmit the required number of HTLTF symbols with the appropriate precoding.
Specifically, the transmitter defines the size of the DOM matrix by N SS and applies the row of the DOM matrix corresponding to the Stream ID to the training signals.Consequently, when all users transmit concurrently the full DOM matrix is formed which permits a receiver to derive all channels by adding or subtracting the HTLTF symbols.ˆ h sc 11 = y sc 1,t 1 − y sc 1,t 2 2 · HT LT F ˆ h sc 12 = y sc 1,t 1 + y sc 1,t 2 2 · HT LT F (4) ˆ h sc 21 = y sc 2,t 1 − y sc 2,t 2 2 · HT LT F ˆ h sc 22 = y sc 2,t 1 + y sc 2,t 2 2 · HT LT FEquation (4) shows how all four channels of the example in Figure 2 are estimated by combining received subcarriers from symbol one (y sc t 1) with subcarriers from symbol two (y sc t 2 ) and normalized by the number of HTLTFs transmitted.
Specifically, combining symbols (t 1 and t 2 ) from antenna 1 derive channel estimatesˆHestimatesˆ estimatesˆH sc 11 andˆHandˆ andˆH sc 12 and symbols for antenna 2 derive channel estimatesˆhestimatesˆ estimatesˆh sc 21 andˆh andˆ andˆh sc 22 .
For example as seen in Equation (4), to derive channel estimatê h sc 11 , the first symbol of antenna 1 (y sc1,t 1) is subtracted by the second symbol (y sc 1,t 2 ) eliminating thêthê h sc 12 term.
Then adding symbol one with symbol two of antenna 1 eliminatesˆheliminatesˆ eliminatesˆh sc 11 and solves forˆhforˆ forˆh sc 12 .
This same derivation applies for antenna two to obtainˆhobtainˆ obtainˆh sc 21 andˆhandˆ andˆh sc 22 .
MUSE achieves interference-free channel estimation through linear combination of preambles with the DOM matrix.
However, channel correlation among the users limits the system performance due to destructive interference and ill-conditioned channels.
Ill-conditioned channels are not invertible, affecting MUSE's linear receiver which performs Zero-Forcing equalization.
Cyclic Shift Delays (CSD) have been used in wireless communications to decorrelate transmitted signals by introducing diversity.
At the time of training, the same preamble signals are transmitted by multiple antennas.
Even though a rich multipath environment decorrelates the simultaneously transmitted signals at the receiver, if the same signal is transmitted by multiple antennas, they can experience correlation and result in power fluctuations and undesirable beamforming effects [5].
The 802.11n standard introduces Cyclic Shift Delays to alleviate unintended beamforming.
CSDs are applied in the frequency domain as shown in Equation (5), where S( f ) is the Fourier transform of s(t) and T CSD is the corresponding CSD value.
The Cyclic Shift Delay (T CSD ) is applied to both preamble and data.S CSD ( f ) = S( f )e − j2π f T CSD (5)CSD in the 802.11 standard are predefined phase shift delays, shown in Table 1, that are applied to each of the transmitting signals.
However, contrary to 802.11n where antennas are co-located, MUSE transmitters are separated by distances that are unpredictable, but nonetheless expected to at least be multiple wavelengths.
Consequently, we introduce "Arbitrary Cyclic Shift Delay" (aCSD) a flexible CSD design that leverages transmitter separation without requiring a control channel nor synchronization.
Channel correlation decreases as transmitters separate.
Thus, unlike fixed usage of CSD in 802.11n, we enable distributed users to arbitrarily select a CSD value.
Through this design, we overcome the lack of a control channel among the transmitters and provide flexibility to adapt to the diverse channels of the distributed transmitters.
Multiple streams can apply the same phase shift value and still obtain multiplexing gains provided by the high multipath environment because of the different paths and propagation delays between the users.
This is only possible because users are distributed in space, leading to increasingly uncorrelated channels as compared to co-located antennas.
Downlink multi-user and SU-MIMO have traffic generation and transmit opportunity gained by a single entity, in MUSE, distributed clients compete for channel access when they are backlogged.
Consequently, MUSE does not fix the number of data streams prior to transmission, i.e., the selected group of clients is not assured to all be backlogged.
This contrasts with existing 802.11n systems with pre-configured number of spatial streams and a fixed orthogonal mapping matrix.MUSE PHY design overcomes this by permitting a variable number of data streams, thereby providing flexibility and robustness to unknown backlogged information of grouped users by a dynamic operation of the DOM matrix.
In a multi-user transmission with a missing user, not all rows of the full-rank DOM matrix are used.
Additionally, the rows of the DOM matrix are not necessarily used in order because the missing users are unknown.
The missing and non-ordered rows of the DOM matrix have no impact on the channel estimation.In MUSE, the number of users in a group is always equal to the number of receive antennas at the AP.
Consequently, if all users have traffic to transmit, MUSE will achieve the full-rank multiplexing capacity.
However, when one or more users of the group does not have traffic demand or misses the trigger to join the transmission, the extra AP resources serve as receive diversity to increase robustness.
Nonetheless, MUSE uplink transmission will always have at least one client with traffic, the one who gained the transmit opportunity.To explain the dynamic operation of the DOM matrix, we use an example scenario shown in Figure 3 with an AP with two antennas and multiple associated clients.
Here a client wins channel access and gives transmit opportunity to a secondary client, in this case the group size is limited to two because of the number of receive antennas at the AP.
Both the AP and the primary client expect a 2x2 uplink multi-user transmission and consequently the client transmits two HTLTF and the AP performs the decoding process for two spatial streams.
However, only the primary client has traffic to transmit which results in a 2x1 MIMO transmission since user 2 does not transmit.
The expected signals from a 2x2 UL MIMO and the AP received signals from this example are:y sc 1,t 1 = h sc 11 · HT LT F + @ @ @ @ @ @ h h h h h h h sc 12 · HT LT F + z sc 1,t1y sc1,t 2 = −h sc 11 · HT LT F + @ @ @ @ @ @ h h h h h h h sc 12 · HT LT F + z sc 1,t2y sc2,t 1 = h sc 21 · HT LT F + @ @ @ @ @ @ h h h h h h h sc 22 · HT LT F + z sc 2,t1y sc2,t 2 = −h sc 21 · HT LT F + @ @ @ @ @ @ h h h h h h h sc 22 · HT LT F + z sc 2,t2 .
(6)Observe that the primary client transmitted two HTLTF (t 1 and t 2 ) expecting a secondary transmitter.
The AP processes the received signals and estimates the expected four channels, as follows:ˆ h sc 11 = y sc 1,t 1 − y sc 1,t 2 2 · HT LT F = ¡ 2 · ˆ h sc 11 · @ @ @ @ HT LT F ¡ 2 · @ @ @ @ HT LT F = ˆ h sc 11ˆh 11ˆ 11ˆh sc 12 = y sc 1,t 1 + y sc 1,t 2 2 · HT LT F = z sc 1 (7) ˆ h sc 21 = y sc 2,t 1 − y sc 2,t 2 2 · HT LT F = ¡ 2 · ˆ h sc 21 · @ @ @ @ HT LT F ¡ 2 · @ @ @ @ HT LT F = ˆ h sc 21ˆh 21ˆ 21ˆh sc 22 = y sc 2,t 1 + y sc 2,t 2 2 · HT LT F = z sc 2 .
Equations (7) indicate that the AP is able to estimatêestimatê h sc 11 andˆhandˆ andˆh sc 21 .
However, for channel estimatesˆhestimatesˆ estimatesˆh sc 12 andˆhandˆ andˆh sc 22 it just obtains noise.
Even with noise estimates for secondary transmitter channels, the AP is able to decode the primary transmitter's data packet and the extra AP antenna resources serve as receive diversity.
MUSE's adaptive usage of preamble-base channel estimation extends to any number of spatial streams.
The key is to always permit the maximum available number of data streams supported by the AP.
In case not all triggered clients have traffic demand, the extra overhead of preamble symbols is minimal and is not comparable to the overhead of sounding for CSIT feedback.
In the previous example, the extra overhead is equal to 1 HTLTF which corresponds to 4µs.
The general expression for MUSE extra overhead is(max(N ss ) − N T X ) · 4µs (8)where max(N ss ) is the max number of data streams, N T X represents the number of transmitting clients where the subtraction of these corresponds to the number of extra HTLTF symbols that each add 4µs overhead.
In this section we present a distributed random access and user-grouping protocol for multi-user uplink medium access.
We base the design on the capabilities of the MUSE physical layer and target constant overhead that does not increase with the number of users simultaneously served, enabling MUSE scaling to large array sizes of distributed users.
The MUSE-PHY properties include CSIR-based openloop multi-user uplink transmission via an arbitrary set of users, provided that the rank of the AP is not exceeded (i.e., the total number of antennas of all clients must not exceed the number of antennas on the AP).
Our technique proceeds in two steps.In the first step, all backlogged users contend for the medium through standardized backoff countdown process.
The first user to count to 0, which we refer to as the contention-winning user, wins the medium.
The contention-winning user then sends a triggering message to all users with its Association-ID.
The triggering message grants a transmit opportunity to a predefined random set of users and serves as the time-synchronization trigger for the multi-user transmission.
If a user is out-ofrange to the contention-winning user it is deaf to the trigger and misses the opportunistic medium access.
Nevertheless, if the deaf-to-trigger user has traffic to transmit it will obtain a transmit opportunity when its backoff counter expires.
As described in Section 2, MUSE-PHY is robust to deaf-to-trigger users.In the second step, we join an arbitrary set of users to the first user as follows.
According to the IEEE 802.11 standard, upon association to an AP, users are assigned an Association ID.
MUSE leverages this association ID for user selection and grouping by considering this to be an arbitrary index for each user.
For MUSE grouping, the AP informs the network the total number of associated users, i.e., the Max-Association-ID.
We join as many users as possible to the contention-winning user as limited by the AP rank.
For example, if the receiving AP has N antennas, the medium contention-winning user triggers N − 1 additional users with the successive Association-ID.
If the contention-winning user ID is towards the end such that there are not N − 1 successive IDs available, we consider IDs to be circular and wrap back to ID 1 as illustrated in Figure 4.
Realization of circular ID grouping is possible because the AP informs all users of the Max-Association-ID.
After receiving the data from the multiple users, the AP acknowledges the successfully decoded packets independently such that each user can determine its supported and desired type of acknowledgment, such as Block ACK immediate or delayed.To illustrate, consider the example in Figures 4 and 5, in which the AP has 4 antennas and there are a total of 7 users in the network of which four can transmit at the same time.
As shown in the timeline of Figure 5, the user with ID 6 wins the medium access contention with the smallest backoff counter of 3.
After the backoff expiration, the contention-winning user triggers three additional user transmissions in order to reach maximum rank of 4.
However, because there are a total of seven users, ID 6 will be grouped with users of IDs: 7, 1 and 2, as shown in related Figure 4.
The triggering transmission acts as a beacon packet which informs all users in the network the medium winning-user ID, as shown in the timeline of Figure 5.
With the ID of the contention-winning user, all users know if their ID falls within the N − 1 vicinity IDs to obtain an opportunity for contention-free medium access by joining the multi-user transmission.
If stations having the vicinity IDs have traffic available, they transmit immediately after receiving the trigger beacon and are synchronized via the timing of the beacon.Because we use Wi-Fi contention to select the originating member of the group, we inherit the fairness properties of Wi-Fi.
Further, MUSE resets backoff counters for all users that accessed the medium even if these were granted medium access without expired backoff counters.
As seen in the Figure 5, users 7 and 1 had backoff counters of 10 and 6 respectively, when group access was granted.
In this case, since medium access was obtained, a new backoff counter must be chosen for new packets.Likewise, because each user has the same probability to win the contention, each user will be grouped the same number of times on average, provided that all users are fully backlogged.
MUSE-PHY requires that the selected users start transmission at the same time.
Such time synchronization is achieved by the triggering beacon, where the trigger message serves as a Clear-To-Send to the users in a group to start transmission SIFS time after its reception.To coordinate the users for MUSE-PHY to enable uncorrelated channels, each transmitting user must know which part of the Dynamic Orthogonal Mapping matrix to apply.
Consequently, we utilize the association IDs to classify the transmitting users such that their IDs further serve as the "Stream Number" assignment.
In particular MUSE-PHY requires a user to map to a Stream Number which determines the Dynamic Orthogonal Mapping matrix to apply.
In the example of Figure 5, contentionwinning user 6 is established as Stream 1, and consecutive users in the group 7, 1 and 2 are assigned Stream 2, 3 and 4 respectively.
With an assigned Stream number, each user will apply the corresponding Dynamic Orthogonal Mapping matrix.
In the example, only users 6, 7 and 1 have traffic to transmit these are Stream No. 1-3.
These streams apply row 1-3 of Dynamic Orthogonal Mapping matrix matrix shown in Equation (3) and choose their best suited Arbitrary Cyclic Shift Delay for their location from values -100 ns to -700 ns.
With MUSE-MAC, the triggering user is guaranteed to be backlogged as only backlogged users initiate medium contention.
However, it is possible that one or more of the remaining arbitrarily selected users are not backlogged.
MUSE-PHY ensures that the AP can decode the received transmission for any subset of the random group members being backlogged, from 1 to all.
Nonetheless, if traffic is sparse, fixed group selection without incorporating backlog state will result in a throughput penalty as non-full-rank uplink transmissions will occur.
However, if traffic is fully backlogged, all MUSE uplink transmissions will be full rank.For sparse traffic, groups can be updated through reassignment of association IDs.
Today, association IDs are reassigned to users via the procedure of Reassociation Request and Response.
A Reassociation Request frame is sent by a station (STA) to an AP when the STA already associated to the Extended Service Set (ESS) has left the cell for a short duration and wants to rejoin or when a STA wants to associate to another AP in the same ESS [13].
The AP responds to this request with an Association Response frame which assigns a new Association ID to the STA.To update group assignments the AP can prompt the Reassociation Request and Response procedure.
The AP being the receiver has knowledge of which users to group to increase the probability of full-rank uplink transmissions as these have previously transmitted uplink traffic.
A traffic-based group can be formed by the AP by prompting the Reassociation Request and Response procedure to the selected users and assign these continuous Association IDs.
Optimized user selection and grouping is a large area of study in MU-MIMO [14,15,16,17] and such techniques could be extended to MUSE.
In this section we present the implementation and experimental evaluation of MUSE for an indoor WLAN scenario.
Our evaluation focuses on MUSE scalability, user orthogonality and MAC user grouping and performance.
MUSE Implementation on WARP.
We implement MUSE on a software defined radio platform that enables Over The Air (OTA) experiments [18].
The platform, Wireless Open-Access Research Platform (WARP), supports a programming environment that performs OTA data transmission and reception and offline processing.We implement a complete 802.11n OFDM physical layer with modulation rates of 6 Mbps (BPSK), 12 Mbps (QPSK), and 24 Mbps (16-QAM) and include mechanisms for heterogeneous modulation rates among streams.
3 This feature enables each uplink transmitter to select its highest possible bit rate, without requiring that all users make the same selection.
For ease of implementation we consider only half rate modulations.
We implement the complete suite of MUSE's PHY techniques Dynamic Orthogonal Mapping matrix and variable Arbitrary Cyclic Shift Delay on our platform.
Our implementation permits 1 to 4 concurrent spatial streams transmissions enabling full rank MIMO transmissions from 1x1 to 4x4 and alternative modes e.g., 2x4 and 3x4.
Testbed Setup.
We use the 2.484 GHz radio channel, i.e., channel 14 (currently unused spectrum) for all experiments.
All experiments are conducted at night to ensure experimental repeatability with minimal unaccounted for factors enabling us to isolate the effects of inter-stream and inter-user interference.
We perform experiments with multiple node topologies with over 20 client locations in a conference room setting depicted in Figure 6.
For each experiment, the topology setup is specified at each evaluation.
The setup is configured from a 1x1 to a 4x4 MU-MIMO system depending on the evaluation being performed.
Each MUSE client node is deployed with a single WARP board running independent RF clocks.
Phase unsynchronized clients in our testbed demonstrate the nonessential need of phase synchronization among the distributed transmitters.
However to emulate the beacon triggering system of MUSE, we time-synchronize the transmission of the distributed users through triggering cables to all client-nodes that activate all users' transmissions at the same time.
For this experiment, the system setup consists of 4 independent transmitting users and an AP receiver with 4 antennas, as depicted in Figure 7.
The four transmitters are placed at two topologies shown in Figure 7, where at each topology 2x2, 3x3 and 4x4 transmissions are performed with the AP.
The topologies are chosen to represent a conference setting with users sitting next to each other in topology 1 and spread out by one or more chairs in setting 2.
A total of 2000 packets are transmitted at 24 Mbps (16-QAM) per setting (1x1, 2x2, 3x3, 4x4), where the number of active concurrent transmissions increases from 1 to 4.
Figure 8 shows the PHY multiplexing gains achieved by MUSE in the evaluated scenarios.
The y-axis depicts the throughput gains in percentage, where the aggregate throughput of the transmitting users is normalized by the evaluated channel PHY rate (24 Mbps).
The aggregate throughput is obtained from the Packet-ErrorRate of each stream.
The x-axis depicts the number of active concurrent transmitters.
Figure 8 indicates that MUSE achieves a data rate that linearly increases with the number of users for the evaluated rates and scenario.
In particular, the Dynamic Orthogonal Mapping matrix and Arbitrary Cyclic Shift Delay successfully isolate the transmitting streams for decoding at all tested locations.
Specifically, MUSE achieves on average 197%, 290% and 395% aggregate PHY throughput for 2 to 4 concurrent served users respectively.
The error bars indicate that in some of the tested locations, full-rank rates were achieved, whereas the lowest rates fall within 10% of ideal full-rank PHY performance.
The scalability shown for 24 Mbps rates in Figure 8 holds for various SNR values and data rates.
We demonstrate the scalability of MUSE's capacity for varying SNR values in Figure 9.
To calculate MUSE capacity we use the generalized Shannon capacity formula for M transmit antennas and N received antennas given by C(bps/Hz) = log 2[det(I N + (ρ/M)(HH * ))] [19], where H * is the conjugate transpose of H, I N is the NxN identity matrix and ρ is the average SNR.
We use the channels (H) from the OTA experiments described for Fig- ure 8 where H is measured at the receiver after applying MUSE-PHY techniques.
We calculate the capacity for each subcarrier at each transmission for SNR values from 0 to 20 and depict the average capacity per MIMO setting in Figure 9.MUSE-PHY enables large multiplexing gains, however perfect linear scaling is not realized in all settings due to some residual channel correlation.
Nevertheless, significant gains are achieved, within 4 to 6% of ideal for 2x2, 9 to 18% of ideal for 3x3 and 13 to 27% of ideal for 4x4.
We observe for an SNR value of 20 dB, MUSE capacity increases from 9.6 bps/Hz for a 1x1 to These multiplexing gains demonstrate the scalability of MUSE and the ability of MUSE-PHY to enable simultaneous distributed transmitters in high multipath scenarios with well-conditioned channels.
MUSE-PHY techniques can achieve full-rank multiplexing gains without need for CSIT, while not being affected by interference or correlated channels.
A key to achieve multiplexing gains is decorrelating users signals via the Arbitrary Cyclic Shift Delay (aCSD) for correct channel estimation.
In contrast to co-located use of cyclic shifts delays, MUSE distributed transmitters have diverse wireless-environment from sparse locations which lead to different signal-paths to the AP.
Here, we evaluate the effect the different aCSD settings have on performance and signal correlation of distributed transmitters with distinct locations.
Through this evaluation we derive the effect aCSD has on performance when transmitters are distributed in space and determine the relation aCSD has with user locations in relation to other users and the AP.
In this experiment we fix the number of users to two, and perform 2x2 uplink multi-user transmissions at 16-QAM (24 Mbps) each.
As shown in Figure 10, we evaluate 3 settings where we fix user 1 at a 5 m distance to the AP and vary User 2 distance to the AP from 5 m (equal distance to AP as user 1) to 3 m and 1 m.
The distance between users is varied as User 2 is moved closer to the AP as depicted in Figure 10.
At each location all 17 aCSD values are evaluated ranging from 0 ns to -800 ns in 50 ns steps.
Only 17 values are possible since the IEEE 802.11 standard's Cyclic Prefix size is defined as 16 symbols resulting in a max of 800 ns aCSD.
Setting 1 (5m to AP, 1m to User) Setting 2 (3m to AP, 2m to User) Setting 3 (1m to AP, 4m to User) SISO Figure 11: Effect of aCSD values on performance and channel correlation of distributed transmitters on three evaluated settings.
Figure 11 depicts the effect varying aCSD values depicted on the x-axis have on the system performance shown in the y-axis.
System performance is represented as a percentage where the aggregate system throughput is normalized by the evaluated SISO rate of 24 Mbps.The figure indicates that MUSE achieves the desired performance of 200% PHY utilization across most aCSD values from -100 ns to -700 ns.
However, signal correlation can be observed in Setting 1 in Figure 11 where performance drops exists for some aCSD values.
From the 3 evaluated scenarios, we observe that user channels are more correlated at the scenario of Setting 1 where both users are at 5 m distance to the AP.
As a result, we observe that sparse user placement of settings 2 and 3 benefits performance by providing uncorrelated channels, allowing usage of any aCSD value between 100 ns to 700 ns.In the presence of correlated channels as seen at close user proximity, specific CSD values are required, as used today in 802.11n system where transmitters are colocated.
We observe a value of -400 ns is suitable at any of the 3 evaluated settings, since -400 ns delay corresponds to a 90 degree phase shift which presents the best results when users have highly correlated channels.Lastly, we observe that aCSD values of 0 ns or 800 ns which both correspond to applying no phase-shift, obtain very low PHY throughput values that fall below SISO rates.
Low PHY throughput values for 0 ns or 800 ns aCSD values are caused by correlated training signals leading to erroneous channel estimation at the receiver.
However, we observe that the throughput values for these aCSD values are not 0.
This indicates that the high multipath environment provides independent channels.
However in the case where the training signals are transmitted through multiple antennas, these may result in correlated signals leading to beamforming effects creating nulls or signal maximum at receive antennas.
We can conclude that when aCSD is applied to the distributed transmitters, we effectively induce multipath in the form of time delay of the simultaneous signals which leads to signal decorrelation.
The spatial sparsity of the distributed transmitters allows any aCSD value to provide the required multipath to isolate the streams for high multiplexing gains.
MUSE MAC performs user grouping without knowledge of channel estimates or SINR among the selected users.
MUSE grouping has minimal overhead by leveraging Association ID to enable opportunistic medium access to users with neighboring association IDs.
Here, we evaluate random user grouping used by MUSE as compared to perfect user selection, identified experimentally via exhaustive search.
We evaluate user grouping by performing 2x2 UL MU-MIMO transmissions where each user transmits at the max rate of our evaluation platform of 24 Mbps (16-QAM).
We perform an exhaustive evaluation of the grouping combination for a pair of users in a total set of 4 users distributed in space.
By evaluating all possible user grouping combinations, i.e., 1-2, 1-3, 1-4, 2-3, 2-4, 3-4, we can analyze the difference in performance from Figure 12 where 500 packet transmissions are evaluated per group combination.
We evaluate a regular topology shown on the left of Figure 12 that emulates four users in a conference room sitting at equal distances.
Additionally, we evaluate an irregular topology shown on the right of Figure 12 where distances between the users vary from 80 cm to 1.3 m. Table 2 shows the aggregate throughput results per grouping combination for evaluated typologies shown in Figure 12.
The aggregate performance results are shown in percentage which represent the aggregate throughput normalized by the single-stream PHY rate of 24 Mbps, where a value of 200% represents that 2x2 full multiplexing gains (48 Mbps in our evaluation platform) are achieved.
The throughput results are obtained through packet-error-rate from all transmitted packets.The results indicate that in the evaluated regular topology, 4 of the 6 groupings (marked in bold) obtain 91 -100% performance increase over MISO transmissions and only 2 grouping combinations achieve 32-46% increase.
In the evaluated irregular-topology we observe that 3 out of 6 grouping combinations (marked in bold) are within 1% of ideal 2x2 throughput.
However, 3 out of 6 grouping combinations of the evaluated irregular topology obtain 28-58% percentage increase over MISO performance.
In groupings with lower gains, only one stream shows higher packet-error-rate resulting in undecodable packet.
However, because each user transmits independent data (no beamforming) the loss of one stream does not affect the performance of the other and thus we observe aggregate throughput values of 132 to 146% and not below 100% (MISO performance).
Consequently, to reduce packet-error-rate and increase robustness and performance of ill-conditioned channels a lower modulation is required.
Existing multi-user rate adaptation solutions such as TurboRate [20] can be adapted by MUSE to increase system performance in the case a user experiences an ill-conditioned channel.Additionally, we observe from the results of Table 2 that varying distances between users does not affect performance.
In both evaluated topologies we observe that low gains are achieved by short inter-user-distance of 0.8 m and larger inter-user-distance of 2.10 m.
This observation demonstrates that in the evaluated scenario, sub-optimal grouping is not related to the distance between users but instead is dependent on the user's channel conditions which varies according to room placement.
We conclude that multipath of the evaluated indoor scenario permits full rank multiplexing gains at most evaluated locations without need of CSI or SINR knowledge.
Ideally, a MUSE system alternates among groupings with well-conditioned channels such as grouping 1-2, 1-3 and 3-4 in the evaluated scenario.
However, there exist locations that may encountered illconditioned channels which lead to lower multiplexing gains.
Nonetheless MUSE can be made robust to bad grouping by smartly adapting modulation rate for a selected bad user or reassignment of Association IDs as explained in Section 3.
Here, we evaluate the scalability of the net system throughput incorporating both physical layer throughput and MAC overhead.
As a baseline, we also consider today's Wi-Fi, single-user IEEE 802.11n, which in this scenario uses a single antenna transmitter and multiantenna receiver (SIMO).
In this case, sequential SIMO transmissions are performed and the antennas at the AP are used for receive diversity.
Moreover, we compare to uplink multi-user systems SAM [11] and Signpost [12].
We first evaluate MAC-layer overhead of MUSE, 802.11n SIMO, SAM and Signpost.
The MAC overhead for each evaluated system is given byMUSE = BO t + ACK t + P t + Trig t (9) SIMO = N * (BO t + ACK t + P t ) (10) SAM = (N * BO t ) + ACK t + P t (11) SIGNPOST = (N * BO t ) + ACK t + P t + S NDPA (12)where N is the number of served clients, BO t is the mean backoff time of 7 slots (minimum contention, 15 slots, window divided by 2), ACK t is the ack time and P t is the signal preamble time.
In the expression for MUSE's overhead given by Equation (9), Trig t represents the overhead time for the triggering packet sent by the contention-winning user to enable the multi-user transmission.
Further, all baseline systems employ sequential contention for each group member of the multiuser transmission, this is shown by (N * BO t ) in Equations (11) and (12).
Additionally, Signpost includes a sounding packet (NDPA) of 7.4 µs for signpost calculation.
s scale.)
We observe that MUSE's overhead remains close to constant as the number of users increases because contention is only performed once per multiuser transmission as shown in Equation (9).
Overhead slightly increases (from 119 µs to 179 µs) with rank because the number of training symbols for channel estimation increases with the number of users.
The baseline systems' sequential contention (N * BO t ) increases linearly with N, exponential for the depicted AP antenna numbers.
Figure 13a shows baseline overhead increased 504 µs from 8 to 16 users, meanwhile MUSE overhead remains close to constant increasing only 32 µs from 8 to 16 users.
Thus, even though MUSE overhead is greater for a small number of users, it remains close to constant leading to the best scaling with user population.Second, we compare MAC throughput of MUSE with IEEE 802.11n SIMO, SAM and Signpost.
All systems are simulated with 100 OFDM symbol packets with 6 bits per symbol for a 20 MHz channel, resulting in data rate of 54 Mbps with no transmit collisions (0 PacketError-rate).
Figure 13b depicts MUSE throughput linear increase, e.g. MUSE throughput increases from 140 Mbps for 4 concurrent users to 513 Mbps for 16 users.
However, throughput of baseline systems does not increase linearly as MUSE, e.g., for 8 users baseline throughput is 158.8 Mbps and only increases by 50 Mbps (1/3) when doubling the number of users.
Throughput scalability of baseline systems is limited by increasing overhead (shown in Figure 13a).
Finally, MUSE's marginal gains over baseline increases with rank: with a low number of users (1-2), MUSE performance is equal or slightly worse than baseline.
However, as the number of users increases, MUSE's gains over the baseline escalate where we observe gains of 2.5x for 16 antenna APs compared to the multi-user baseline.
This evaluation demonstrates the importance of constant overhead in scaling multi-user uplink medium access.
MUSE is the first PHY and MAC system that enables scalable full-rank uplink multi-user multiplexing without requiring a control channel.
Here, we contrast MUSE to prior work in both downlink and uplink multi-user transmission.Multi-User Downlink.
There is a vast body of theoretical [3] and experimental [1,2,4,5] research that demonstrates the multiplexing gains available in downlink multi-user MIMO.
Moreover, downlink multi-user WLAN transmission was standardized in 2014 in IEEE 802.11ac [7].
In both research and commercial systems, Transmit beamforming (TxBF) is used to uncorrelate users' channels and serve multiple users simultaneously.
TxBF uses CSIT to form weight vectors that isolate the data streams of the different users.In contrast to downlink multi-user transmission where data is sourced from a single AP, uplink multi-user data is sent from multiple devices that are independent and spatially distributed.
Distributed transmitters have independent clocks that cause channel estimation to become stale or obsolete as their phases drift differently and independently.
In TxBF all the space-time streams are combined and multiplied by a matrix of steering vectors to produce the input to the transmit chains.
However, distributed transmitters have no control channel among them which prohibits the stream combination in TxBF.
Further, CSI overhead increases linearly with rank which fails to achieve MUSE's scaling goal for uplink multiuser transmission.Multi-User Uplink.
There is limited prior work on distributed multi-user uplink WLANs and to date it is neither standardized nor commercialized for WLANs.
Existing WLAN uplink multi-user solutions [12,11,21] enable multiplexing through sequential contention for each group member.
However, sequential contention incurs control overhead (training and contention) that increases linearly with group size.
In contrast, MUSE-MAC scalable grouping eliminates the need for a group-selection control procedure via a single contention (fixed-overhead).
In aforementioned solutions stream isolation is achieved in three different ways: by CSI based prealigned orthogonal directions in [12], successive interference cancellation and staggered preambles in [11] and interference alignment and cancellation [22] in [21].
In contrast, MUSE-PHY enables full-rank multiplexing with standard compliant channel estimation from all distributed users, with temporally overlapped preambles for an arbitrary number of users.
In this paper we introduce MUSE, the first system to achieve full-rank uplink multi-user capacity in a fully distributed and scalable manner without a control channel.
In MUSE, no control messages are used for channel estimation, CSI feedback and channel-based user selection.
We design MUSE-PHY which decorrelates users' signals through Arbitrary Cyclic Shift Delays, enables preamble-based clean channel estimation at the receiver with the Dynamic Orthogonal Mapping matrix and adapts to variable traffic demand of distributed transmitters.
We design a fixed-overhead scalable MUSE-MAC that enables a multi-user multi-stream transmission through a single medium access contention.
MUSE-MAC attaches a random set of additional users to the winning-user and assures the rank of the group equals the number of antennas at the AP.
Our experiments demonstrate full-rank multiplexing gains in the evaluated scenarios that show linear gains as the number of users increase.
Our experimental results show an average PHY capacity utilization of 197%, 290% and 395% for 2 to 4 concurrent users respectively with evaluated rates and maintain constant overhead as the number of users increases.
This research was supported by Cisco Systems, Intel, the Keck Foundation, and by NSF grants CNS-1514285, CNS-1444056, CNS-1126478 and CNS-1012831.
