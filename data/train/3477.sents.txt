Many types of human activities involve interaction with passive objects.
Thus, by wirelessly sensing human interaction with them, one can infer activities at a fine resolution , enabling a new wave of ubiquitous computing applications.
In this paper, we propose LiveTag to achieve this vision.
LiveTag is a fully passive, thin metal tag that can be printed on paper-like substrates and attached on objects.
It has no batteries, silicon chips or discrete electronic components.
But when touched by fingers, it disturbs ambient WiFi channel in a deterministic way.
Multiple metallic structures can be printed on the same tag to create unique touch points.
Further, LiveTag incorporates customized multi-antenna beamforming algorithms that allow WiFi receivers to sense the tag and discriminate the touch events, amid multipath reflections/interferences.
Our prototypes of LiveTag have verified its feasibility and performance.
We have further applied LiveTag to real-world usage scenarios to showcase its effectiveness in sensing human-object interaction.
Information about the objects a person touches is an essential input to many applications in ubiquitous computing.
On one hand, the ability to sense touch in the physical world can form the basis of the tangible user interface [17], which allows human to use omnipresent objects as a command-and-control interface to the digital world.
On the other hand, the sequence of objects used can enable inference of human activities [32,47].
Logs of objects touched can become the basis of "experience sampling" [3] or "life-logging" [11,16,52] that try to reconstruct a user's day.
Post-processing of the logs can support many activity-aware applications, such as stroke rehabilitation assessment in homes, consumer analytics for retail stores [12,28], etc.To harvest these benefits, a practical system needs to sense touches on different objects, and on different spots of the same object.
The system should be inexpensive for ubiquitous deployment, and should be unobtrusivealways functioning but without distracting users and with little maintenance cost.
In addition, it should preserve privacy, capturing nothing more than the user's interest.
These salient properties will embody Mark Weiser's vision of ubiquitous computing by weaving the system into physical environment, rendering the underlying technology invisible [51].
Although many conventional sensors can detect object use (e.g., motion sensors [43,47] and cameras [9,15,54]), they often require augmenting the objects with batteries/circuits, or may provoke strong visual privacy concerns.In this paper, we propose LiveTag, a new wireless sensing modality to detect manipulation with physical objects.
Fig. 1 illustrates the working principle.
LiveTag uses thin radio-frequency (RF) tags as a user interface, either attached on the objects, or working independently as a thin keypad or control panel.
These tags are fully passive, chipless, and battery-free, only made of a layer of metal foil printed on a thin substrate (e.g., flexible ceramic-PTEF laminate commonly used for thin PCB printing, as shown in Fig. 2).
Touch commands on the tags are detected remotely by WiFi devices which can react accordingly.
More specifically, the tag is designed as a strong reflector for 2.4/5 GHz signals from a cooperating WiFi transmitter, and touches upon its metal structure create a known non-linear channel distortion which can be remotely detected by a WiFi receiver.To satisfy the targeted use cases of LiveTag, the tags need to be sensitive to WiFi signals, contain multiple distinguishable touch points, and bear identifiable characteristics.
In meeting these requirements, we create RF surface capacitors/inductors/resistors by printing metal structures with special geometries.
These surface electronic components eventually form a resonator that absorbs WiFi signals of specific frequency, acting like a bandstop filter to create a "notch" on the WiFi channel response.
Multiple resonators can be co-located on the same tag with different notch positions.
Together, these resonators create a spectrum signature that makes the entire tag uniquely distinguishable from others.
In addition, finger touch on each resonator nullifies the notch, resulting in a unique change in the WiFi channel response.To realize these salient properties, we empirically model the relation between tag geometry and corresponding frequency characteristics, as well as the impact of touching.
These models allow us to make tradeoffs between the tag size, capacity (i.e., number of touch points), and number of coexisting tags.
We have also fabricated the tags using thin PCB laminates.
Under controlled setup where the signals directly pass through the tag, we observe up to 35 dB of attenuation at the desired notch points.In practical over-the-air usage scenarios, however, detecting the tags and touch events entails a number of challenges unseen in conventional communication systems or actively modulated RFID systems.
First, the line-ofsight (LOS) channel between the WiFi transmitter and receiver is much stronger and can easily overwhelm the signals reflected by the tag.
Second, due to frequencyselective fading caused by ambient multipath reflections, the spectrum signatures tend to be interfered by random channel gain variations across the frequency band.
To tackle such uncertainties, we design redundancies into the tag and combine multiple resonators to enhance the spectrum signature.
To enable robust detection, we design a fading suppression and LOS nulling mechanism, taking advantage of the multiple antennas on the WiFi transceivers.
The touch event is then detected as a known change in the spectrum, following a stochastic model that guarantees a prescribed false alarm rate.We have verified these solutions through an enhanced tag design, as well as a tag detection system comprised of a pair of WiFi-compatible transceivers.
Our experiments in practical indoor scenarios demonstrate that both the presence of and touch upon a multi-resonator tag can be detected accurately, even when the tag is placed 4.8 m away from the transmitter.
The miss detection rate (P m ) and false alarm rate (P f ) is only around 3%, and approach 0 with multi-resonator redundancy.
The tagto-receiver distance needs to be shorter (around 0.5 m).
So a user-carried WiFi device like smartphone is mostly suitable as a LiveTag receiver.
In terms of tag capacity, each tag is able to provide up to 8 touch points, created by 8 frequency notches that span the entire WiFi band.
We have also conducted 3 case studies of LiveTag involving human-object interaction: a batteryless keypad, on-clothes music controller, and water-level detector attached to a cup, which demonstrate LiveTag's capabilities in augmenting everyday life in a non-intrusive way.In summary, the main contributions of LiveTag include: (i) Tag design.
Although the concept of passive RF tags has existed for long, existing designs mainly focused on manipulating the tag signatures to embed more information, and they need dedicated ultra-wideband, fullduplex readers.
To our knowledge, LiveTag represents the first system to design touch-sensitive, WiFi-detectable tags that can sense human-object interaction.
(ii) Tag detection.
We design new beamforming mechanisms to suppress ambient multipath and LOS interference, enabling a pair of WiFi Tx/Rx to detect the passive tag and multipoint touch events in practical environment.
(iii) Implementation and experimental validation.
We implement the tags using standard PCB printing technique (which allows mass production and tag customization).
Our experiments verify LiveTag's feasibility and accuracy, and its usefulness in enabling new sensing applications that involve human-object interaction.
Sensing interaction with objects.
Existing techniques for detecting object manipulation either monitor the objects directly or augment/modify the objects using sensors.
The former is represented by computer vision solutions that extract humans-object relations from images [9,15,54].
Whereas image-features lead to high detection accuracy in controlled settings, practical systems have proved very difficult to engineer, especially under unknown background, moving scenes, and challenging light conditions.
The computational cost is also high and unsuitable for real-time touch-command applications.
Barcode [30] may reduce the feature processing time, but requires scanning in line-of-sight with a handheld device.On the other hand, active sensors [39,43,47], while extremely accurate, carry circuit components and need battery maintenance, rendering them unsuitable for scaling to a large number of low-value objects.
RFID can overcome such limitation by attaching energy-harvesting tags on objects.
Early research embedded an RFID reader into a glove to sense interaction with tagged objects [41].
Recent work augmented RFID tags with low-power sensors that live on the energy harvested from interrogating signals [27,40,46].
IDSense [25] can discriminate touch and movement of an RFID tag, by learning the RSS/phase features.
RIO [35] detects gestures by recognizing phase changes caused by finger contact.
PaperID [24] creates an ungrounded monopole antenna, which can respond to the reader only upon human touch (and hence grounding).
These RFID solutions require an expensive, dedicated reader, and cannot distinguish different touch positions on one tag.Overall, LiveTag can be considered a blended technology that inherits the advantages of aforementioned two categories.
It augments the objects with lightweight, WiFi-readable tags that have no silicon chips, batteries, or discrete circuit components.
LiveTag also overcomes all the aforementioned limitations of video/image processing, enabling ubiquitous, real-time sensing even in low-light and non-line-of-sight (NLOS) conditions.Chipless RFID tags.
LiveTag is inspired by the chipless RFID tags [31]-passive reflectors made from sur-face metallic structures with identifiable electromagnetic properties.
Chipless RFID is motivated by the vision of bringing RF tags' cost to a level comparable to visible barcode [10,38].
Chipless tags encode information either in time or frequency domain.
Time-domain approaches use multiple RF circulators to induce different delays to passing signals, thus creating signatures.
Frequency-domain approaches create signatures on the tag's frequency response using multiple RF filters with different stopband frequencies.
Existing literature in chipless RFID primarily focused on improving the tag capacity, i.e., number of bits encoded.
Since it is extremely challenging to create narrowband surface filters, embedding multiple filters on the tag requires huge spectrum bandwidth.
High-end ultra-wide-band (UWB) readers (on the 3.1-10.6 GHz band) [37] have to be used, which are costly and can only achieve sub-meter range [37] due to the FCC's transmission power regulation on the UWB band.
State-of-the-art research in chipless RFID [37,45] mostly uses dedicated radios or network analyzers as readers, and omits ambient multipath reflections considering the short tag-reader distance.LiveTag differs from conventional chipless RFID tags in two fundamental ways: (i) It aims to make the tags responsive to touch, rather than increase the tag capacity.
(ii) Through customized tag design and detection algorithms, it can repurpose commodity WiFi transceivers as readers, which work even in practical multipath environment.
Recent advances in backscatter communications have enabled a new species of radios that communicate by modulating ambient RF signals [18][19][20], and can harvest RF energy to power touch sensors [26].
These backscatter radios build on discrete circuit components.
In contrast, LiveTag is a low-profile, fully-passive, paperlike substrate that obviates discrete circuit componnets.
It can potentially be mass produced through conductive inkjet printing at extremely low cost.
The 3D structure of a LiveTag tag is illustrated in Fig. 1.
When the interrogation signal reaches the tag, it is first received by one antenna, and then passed through a transmission line and filtered by a multi-resonator network.
The resulting signal is eventually emitted through the other antenna.
The signal path is bidirectional-Each antenna simultaneously receives interrogating signals and propagates them towards the opposite direction.
Ultimately, the entire tag acts as a reflector that backscatters the interrogating signals.
The key design goal of the tag is to maximize the change of spectrum upon touch, by optimizing each resonator's filter gain, defined as the ratio between incidental and emitting signal strength.
Below we describe how LiveTag approaches this objective.
The resonator is essentially a 2D bandstop filter printed on a planar substrate.
Such an RF filter can be realized using a variety of geometrical structures (Fig. 3), all with similar working mechanisms [31,36].
At resonance frequency, microwaves form standing waves in the resonator, oscillating with large amplitudes, thus confining the energy within the resonator.
The resonator can be modeled by an equivalent circuit (Fig. 4), comprised of a cascade of capacitor C r , inductor L r , and resistor R r , whose values are determined by the resonator's material and geometry [22,23].
When placed next to a transmission line with impedance Z L , the resonator is coupled through parallel-line coupling or equivalently mutual inductance coupling [5].
The coupled circuit can be modeled as a grounded cascade RLC (Fig. 4) structure [44].
The equivalent impedance can be straightforwardly formulated as a function of the angular frequency ω:Z R (ω) = Rr + jωL r − j 1 ωCr = Rr + jωL r ω 2 − ω 2 c ω 2 ,(1)where the ω c = 1/ L r C r .
The impedance |Z R (ω)| reaches its minimum at ω = ω c .
So ω c is the resonance frequency of the resonator, i.e., the center frequency of its stopband.
The frequency response of the above circuit model can be formulated as,20 log ( Vout V in ) = 20 log ( |Z R (ω)| |Z R (ω)| + Z L ).
(2)Obviously, the frequency response reaches its minimum at the resonance frequency ω c , when |Z R (ω)| reaches its minimum value R r .
We remark that this circuit model is highly simplified, and an accurate characterization can be obtained only via electromagnetic simulation [44].
Ideal resonators for LiveTag should meet 3 requirements.
(i) A resonator's frequency response should not be affected by other adjacent ones (i.e., minimum mutual coupling).
(ii) The filter bandwidth of the resonator must be narrow, so that we can pack multiple stopbands into the limited WiFi spectrum.
(iii) The filter gain at resonance frequency should be large, allowing the tag presence and touch events to be easily detectable.
Fig. 1 provides an example of the frequency response that consists of two notches, which correspond to two stopbands.To support multi-touch, multiple resonators must be co-located, but with no mutual coupling.
Prior research [36,37] has shown that the interference between planar resonators becomes negligible if they are coupled to a common transmission line in a non-contact manner.
To satisfy this condition, LiveTag adopts the spiral and Lshaped resonators (Fig. 3), whose resonating frequency is independent of their relative positions along the transmission line [36].
On the other hand, the frequency response of each resonator is determined by three factors: the substrate, material of the conductive layer, and the resonator's geometry, which we elaborate on below.
Figure 5: Frequency response curves of resonator structures.
Material of substrate and conductive layer.
LiveTag adopts either the woven glass (FR-4) or ceramic-PTEF flexible PCB as substrate.
The thickness and dielectric constant of substrate affect the center frequency of the stopbands.
Therefore, given a new substrate, the resonator structure should be adjusted to keep center frequency to the desired value.
The resonator, transmission line and antennas are realized by printing a thin copper layer onto the substrate.
The thickness and electrical resistivity of the copper material affect the conductivity, and hence the loss of EM waves propagating through.
However, it does not affect the resonating frequency in a noticeable way, since the conductivity of printable metal materials (e.g., copper and silver) is sufficiently high.To isolate the tag from other objects behind, we ground the tag by printing a thin copper layer on the back of the substrate.
The conductive ground layer shields the EM wave from external materials behind the tag.Impact of the resonator's geometrical parameters.
To identify the geometry that approaches the desired frequency response, conventional planar antenna design often undergoes multiple iterations of empirical design and validation [31].
Following this common practice, we employ a mix of simulation and empirical models to design the geometry of our tag.
We use Advanced Design System (ADS) [1], an RF electronic design automation tool, to simulate the frequency response of a conductive layer, using its geometry, substrate thickness H and dielectric constant ε r as input.In designing RF systems, the impedances of series connected systems should match in order to maximize the power transfer from input to output.
Specific to LiveTag, the impedance of the multi-resonator structure must match that of the antenna (designed as 50Ω following the common practice).
The impedance of microstrip transmission line follows a well-known model [34]:Z = 87 √ εr + 1.41 · ln 5.98H 0.8w 2 + T ,(3)where w 2 and T are the width and thickness of the transmission line.
ε r , H and T are fixed and known at fabrication time.
Therefore, for impedance matching, we only need to compute w 2 so that Z = 50Ω.
The line length (L) only affects the phase of the EM wave, and does not impact the spectrum signature which only concerns the magnitude of the CSI.
Therefore, we can flexibly extend or twist the transmission line, depending on the specific outline needed by the touch interface.On the other hand, the impact of the resonator's geometry can be characterized through ADS simulation.
Our simulation focuses on 3 key metrics: center frequency, bandwidth of the stopband, and filter gain.
Although such metrics have been partly studied in simulating planar RF filters [33,34], a comprehensive quantitative study is still critical to make LiveTag work in the WiFi band.
To this end, we first empirically configure the resonator geometry so that a stop-filtering effect appears on the 2.4/5 GHz spectrum.
We then fine-tune the geometrical parameters to optimize the resonator performance.
Under default settings, Fig. 5 depicts the simulated frequency response of the spiral and L-shaped resonators.
(i) Resonator size a: Our simulation results in Fig. 6(a) indicate that a larger resonator leads to lower resonance frequencies, because it increases the wavelength of the standing wave.
Equivalently, both the L r and C r increase in the circuit model (Fig. 4), which leads to a smaller ω c .
In addition, the L-shaped resonator is generally much larger (a = 15 mm) than spiral resonator (a = 7 mm) when operating at the same 2.4 GHz band.
On the other hand, the equivalent RLC bandstop filter (Fig. 4) [34], so a larger a (and hence larger L r ) decreases the bandwidth of the notch.
Fig. 6 (b) further shows that the resonator size does not affect the filter gain significantly.
(ii) Gap between resonator and transmission line s 2 : Intuitively, the properties of the stopband, i.e., center frequency and notch bandwidth, only depend on the resonator itself.
Our simulation results in Fig. 7(a) indeed corroborate this.
On the other hand, as s 2 increases, the coupling between the resonator and the transmission line weakens, resulting in less signal energy being passed to the resonator, and hence a sharp reduction in the filter gain, as shown in Fig. 7 (b).
Under the same simulation setup, we also found that the other parameters, w 1 , s 1 , N t and b (Fig. 3), have negligible impacts on the frequency response.
Since the frequency response is primarily determined by the patterns of micro strip lines, we find slightly bending the tag does not affect the tag's response or tag/touch detection.
We omit the details for the sake of space.
To summarize the foregoing exploration, the resonance frequency can be controlled by adjusting the resonator size, while the gap between resonator and transmission line should always be kept as small as possible to achieve a high filter gain and small bandwidth occupation.
Note that alternative RF resonator structures may further improve the performance, but are out of this paper's scope.
The human body can be modeled as an RC network consisting of resistors and capacitors [8].
So a finger touching the resonator can be approximated as adding a capacitor and a resistor in parallel to the original resonator's components, and then to the ground.
This leads to an equivalent increase of C r , thus making the notch's center frequency disappear from its original position.We quantitatively verify the touch impact under a controlled setup, where the two ends of a transmission line are connected to an Agilent E8364A (50 GHz) network analyzer via SMA adapters.
This isolates the multipath effects and measures the tag's intrinsic frequency response.
Fig. 8 shows that the notch indeed disappears from its original position after the touch, likely due to the overwhelming attenuation effect that neutralizes the filter gain.
We also found that touching part of the resonator has the same impact as touching its whole body.
The same figure also plots the simulated frequency response before touch, which matches the measurement well.
LiveTag adopts two types of planar antennas-patch and monopole-whose front-side structures are shown in Fig. 9, whereas the back side is a metal foil acting as the ground.
The design principles of such 2D antenna structures are well established [7,29].
Both antennas have been designed to have high gain on both 2.4 GHz and 5 GHz WiFi bands.
The monopole antenna has a close to omni-directional radiation pattern, while patch antenna provides higher directionality.
The different gain patterns ( Fig. 10) imply that, the patch antenna is suitable for scenarios where less than half-space need to be covered, whereas the monopole fits mobile tags with sporadic pointing directions.
Multiple resonators: creating spectrum signatures and enhancing filter gain.
To create multiple touch points, we extend the single-resonator design (Sec. 3.2) by placing multiple resonators with different resonance frequencies along side the transmission line.
In addition, we place multiple identical resonators with the same resonance frequency close to each other, to form a compound touch point.
This is equivalent to connecting multiple identical bandstop filters in series, which increases the filter gain multiplicatively.
Fig. 11 plots the filter gain of tags with different number of spiral resonators, measured using the network analyzer.
We observe that the filter gain increases linearly (in dB scale) with the number of redundant resonators.
In practice, we can simply use the central area among these resonators as the touch point, so that a single touch detunes them simultaneously.To profile the mutli-resonator structure's sensitivity, we use the network analyzer to measure the difference of its frequency response before and after touch.
We use an actual tag with 5 pairs of resonators, creating 5 different notches at 5170 MHz, 5305 MHz, 5515 MHz, 5665 MHz, and 5800 MHz.
The measurement results (Fig. 13) verify that touching each pair creates 6-9.5 dB of filter gain change on the resonating frequency.
We also design a tag with 6 identical resonators.
Our measurement result in Fig. 14 shows that the total filter gain decreases dramatically with the number of resontors being simultaneously touched.Coupling between resonators.
The coupling effect occurs when signals backscattered from a resonator generate resonant current in an adjacent resonator through inductive coupling, which may distort the frequency response.
Fortunately, coupling happens only in the nearfield when the resonators are placed in close proximity.
To quantify the impact, we simulate the frequency response of a tag under the same default parameter configuration as in Sec. 3.2, except that two resonators are used with center frequencies 2415 MHz and 2489 MHz.
Fig. 12 shows the spectrum signature as the resonators' separation varies.
The center frequencies of the two notches drift away from the original values as the resonators are placed closer than 5 mm.
But, as long as the separation exceeds 5 mm, the drifting effect becomes negligible.
A similar experiment shows that the minimum separation is 4 mm for resonators at 5 GHz.
Tag capacity.
The number of resonators that can be packed into the tag depends on two factors.
(i) Area capacity, which is constrained by physical size of the tag and each resonator.
Each 5 GHz spiral resonator occupies 3.5 × 3.5 mm 2 , and needs a minimum separation of 4 mm from other resonators and negligible separation from the transmission line.
For impedance matching, the transmission line width needs to be 3 mm.
Since the resonators can be placed on both sides of the transmission line, the maximum 1D occupation of one resonator is approximately 3.5 + 3/2 + 4/2 = 7 mm, i.e., it only occupies 7 × 7 mm 2 .
(ii) Frequency capacity, which is constrained by the usable spectrum width, and the bandwidth of the notch created by each resonator.
At the 2.4 GHz and 5 GHz unlicensed band, the available spectrum is around 85 MHz and 480 MHz [4], whereas the stopband bandwidth created by the resonator is around 80 MHz (Fig. 7) and 180 MHz (Fig. 13), respectively.
To pack more notches into the spectrum, we design the resonators such that the adjacent notches have an overlap of half of the notch bandwidth.
In addition, only the center of each notch needs to fall inside the WiFi spectrum band.
This enables us to pack up to 3 notches and 6 notches, in the 2.4 GHz and 5 GHz band, respectively.Multi-tag coexistence.
When multiple tags coexist, the mutual interference is negligible as long as one tag is always much closer to the WiFi receiver than the others.
This is the case when the WiFi receiver is a mobile device (e.g., smartphone) that always accompanies the user that touches the tags.
Otherwise, when multiple tags exist in close proximity, they have to use orthogonal spectrum signatures, in the same way as placing distinct resonators on the same tag.
We will quantify the impact of tag separation in Sec. 7.
Once a tag is deployed, LiveTag executes three mechanisms to detect and discriminate the touch events.
First, the WiFi transmitter continuously runs a joint beamforming and beam nulling algorithm to suppress multipath fading, making the tag-induced channel features more pronounced.
Second, the WiFi receiver continuously measures the CSI, and detects the presence of a tag with known spectrum signature using a maximum likelihood algorithm.
Once a tag is identified, the WiFi receiver continues to detect touch based on the pattern of CSI changes.
Below we describe these mechanisms in detail.
LiveTag's transmitter beamforming mechanism facilitates over-the-air estimation of a tag's frequency response, and isolates it from the LOS or ambient multipath signals.
Unlike conventional beamforming, the key challenge lies in the fully passive tag, which cannot process incoming signals or estimate its own channel response.Creating artificial fading with orthogonal beamforming.
To isolate the ambient multipath, our key idea is to use multiple transmit antennas to create artificial fast fading effects, by generating multiple transmit beam patterns with minimum correlation.
Different beams may encounter different ambient reflectors, resulting in diverse paths and destructive/constructive effects across different frequencies.
From the perspective of the tag, although the beams may come from different angles, the resonator will cause the same notch position on the CSI (measured by the WiFi receiver).
Thus, the WiFi receiver can smooth out the fading effect by taking advantage of the CSI diversity of all these beams.The question is: given a certain number of antennas, how many, and which beam directions should be used?
Since the beamwidth depends on the number of antennas and cannot be arbitrarily small, increasing the number of beams blindly would result in overlapped beam patterns and hence correlated channel.
To minimize the correlation of for a fixed number of AP antennas, LiveTag steers the beams' main lobe directions to be equally spaced, and uses a delay-sum beamformer [49] for beam steering.
Without loss of generality, consider a linear antenna array with half-wavelength separation between elements.
Then each beam is mirror symmetric relative to the array dimension, so we only consider the angle range from −90• to 90 • , where 0 • is the direction perpendicular to the antenna array.
To generate K beam directions, LiveTag sets the i th main lobe direction to be 180 • K i − 90 • , where i = 0, 1, · · · , K − 1.
To harness the benefits of beamforming with minimal beam correlation, we always set K to be equal to the number of AP antennas.It's worth noting that since the reflection and fading experienced by each beam is determined by the environment, our beamforming technique does not provide hard performance guarantee on fading suppression, although our empirical evaluation shows it works well even under environment dynamics (Sec. 7.1.1).
Smoothing CSI with PCA.
In order to extract the correlated tag response among CSI with uncorrelated fading, we apply principal component analysis (PCA) on the CSI.
Then the K components after PCA is ordered by the amount of information contained, or variance.
We find that preserving only the 2nd and 3rd component tends to generate the best results.
The first component is discarded because it turns out to contain strong correlated noises, which is most likely contributed by the common fading notches that affect multiple beams' CSI.Simultaneously suppressing the LOS channel.
While suppressing the ambient multipaths, LiveTag needs to simultaneously suppress the LOS channel from the AP to the client.
Conventional MIMO beam nulling techniques, commonly used to suppress certain receivers [2], are not directly applicable for LiveTag-since the WiFi receiver can only estimate the compound channel, a direct beam nulling will suppress the tag-to-receiver channel as well.
To isolate the LOS channel, LiveTag adopts a two-stage beamforming method.
In the first stage, the WiFi client device transmits a packet, while the AP processes the CSI and estimates the Angle of Arrival (AoA) profile using the classical MUSIC algorithm [42].
In the second stage, the AP nullifies the angle with the strongest signal strength (most likely to be the LOS angle), denoted as θ j .
Suppose θ i is the beam direction used for the fading-suppression.
For a linear array with N halfwavelength spaced antennas, to create a beam with main lobe steered towards angle θ, the weight vector applied to all antennas should follow [49]:a(θ) = [1 e jπ sin(θ) e j2π sin(θ) · · · e j(N −1))π sin(θ) ] T(4)To steer the beam towards θ i , the weight vector a(θ i ) should be applied.
Meanwhile, to nullify the signals towards angle θ j , the weight vectors can be obtained bya null (θ i , θ j ) = P ⊥ θ j · a(θ i ),(5)where P ⊥ θj is the operator that projects the original beamforming weights onto the subspace that is orthogonal to the subspace spanned by the LOS direction θ j .
Following the definition, P ⊥ θj can be computed as,P ⊥ θ j = I − a(θ j )a H (θ j ) a H (θ j )a(θ j ) ,(6)where a(θ j )a H (θ j ) projects a vector onto its own subspace.
Therefore, a null (θ i , θ j ) can be reorganized as,a null (θ i , θ j ) = a(θ i ) − a(θ j ) · a H (θ j )a(θ i ) a H (θ j )a(θ j ) .
(7)Note that the LOS path between the AP and client might be blocked, and another multipath reflection may become the strongest.
The beam nulling mechanism will suppress this path in the same way as the LOS, and enhance detection performance except in the rare case when the tag reflection becomes strongest.
We will empirically verify LiveTag in practical environment in Sec. 7.
It should be noted that LiveTag does not require the tag or ambient environment to be static, because such dynamics do not affect the frequency response of the tag, which solely depends on the resonators and touch event.In fact, just like the artificial fading effects, such environment dynamics randomize the irrelevant fading, making the tag's spectrum signatures more prominent.WiFi channel stitching and antenna calibration.
To effectively use the available spectrum, the WiFi AP in LiveTag interrogates the tag by switching across 3 (11) non-overlapping channels on the 2.4 GHz (5 GHz) band.
The measured CSI of each channel is stitched together to obtain the frequency response of the tag.
In addition, the resonators' frequency notches are designed intentionally to avoid the DC and guard-band subcarriers which carry no CSI.
Note that the AP and client can switch across multiple channels with coarse synchronization [50].
Also, since the antenna does not have uniform gain across 2.4/5 GHz band (Sec. 3.4), we always normalize the frequency response curve by the gain of the antenna at corresponding frequencies.
The antenna gain can be measured as a one-time initialization step.Coexisting with communications.
Similar to all active WiFi sensing applications, LiveTag needs to coexist with data transmissions, which can be achieved in two ways.
Since LiveTag only needs the CSI of each WiFi channel as input, we can piggyback the sensing onto communication.
Each WiFi packet has a known preamble which enables the receiver to extract the CSI.
An alternative approach is to treat sensing as normal data communication, and have our system contend for channel access in the same way as normal data communication in 802.11.
This will not burden the network, as our system only needs to send an extremely short frame (without payload) on each channel.
LiveTag identifies the presence of a tag by comparing the measured CSI with the ground-truth spectrum signature of each deployed tag.
The ground-truth can be obtained and stored either at design time, or through a one-time initial measurement.
Tags in different environments (e.g., home vs. office) can have the same signatures, as long as certain coarse context/location information is available to distinguish them.To compare the measured/ground-truth response, the simplest way is curve matching.
However, classical curve matching methods, like nearest neighbor based on Euclidean distance, or dynamic time warping [21], either involve high computational complexity or are vulnerable to noise from irrelevant features.
To alleviate such limitations, we design a model based on signal space representation (SSR) of the spectrum signature.
Instead of using the entire frequency response curve as a tag's feature, we first reduce the feature dimension and only preserve the points that set different tags apart.
Suppose there are B tags deployed in the given environment, whose frequency responses can be stacked to form a matrixH S = h 1 h 2 · · · h B ,(8)where h i , i = 1 · · · B, represents the spectrum signature of the i th tag, containing C frequency domain sampling points.
In our implementation, we sample the CSI of 129 and 768 subcarriers on the 2.4 GHz and 5 GHz band, which makes C = 897.
A singular value decomposition (SVD) of H S yields H S = U ΣV T , where U and V contain orthogonal column vectors u i and v i , and Σ is a diagonal matrix containing the singular values σ i .
Then the frequency response can be represented as h k = B i=1 σ i v i (k)u i , where u i are the bases of the new signal space, and σ i v i (k) = h T k u i , ∀i = 1 · · · B, are the representation of h k in this space.
We remark that the SVD can run offline, and only takes the ground truth spectrum signature as input.
At run time, we only need to compare the signature in the B dimension signal space, which is much smaller than C.Further, note that the frequency response curves of different tags are only different in notch positions and shapes.
Therefore, only the first L out of B singular values may be dominant (L < B), i.e., h k ≈ L i=1 σ i v i (k)u i ,In this way, the dimension of the signal space is reduced from B to the L most discriminative points, and the signature of the k th tag can now be represented ass k = σ 1 v 1 (k) σ 2 v 2 (k) · · · σ L v L (k) .
(9)In our implementation, we pick the value of L so thatL i=1 σ i = 0.9 · B i=1σ i , which preserves the features that contribute to 90% of the covariance (differences) between frequency response curves.At run time, the LiveTag client first measures the frequency response h r of a tag (Sec. 5.1), and reduces it to an L dimension vector s r , where the i th element s r (i) = h T r u i .
It then compares s r (i) with the signatures s k of each known tag k, using the Euclidean distance metric.
To discriminate the case where no tag is present, we also add a special frequency signature with no notches.
Overall, the matching complexity is only O(BL 2 ), where computing the Euclidean distance between two L dimension vectors is O(L 2 ), and the obtained frequency response should be compared to the B ones stored.
Once the tag is identified, LiveTag can detect touch events by monitoring the disappearance of its notches.
To make the detection robust to channel fading and avoid the need for a constant threshold, we formulate it as a Constant False Alarm Rate (CFAR) [6] detection problem, which is commonly adopted in radar signal processing.Given a measured frequency response h, each of the element h(i) represents the CSI of one subcarrier.
Each subcarrier has a very narrow width, and can be modeled as a flat fading channel, i.e., the real and imaginary part of h(i) follow Gaussian distribution N (µ i , i 2 ) [48].
We assume each subcarrier bears the same level of noise, i.e., i = .
But the mean values µ i differ due to the frequency-selective fading.To identify a touch event, LiveTag tracks the change across two consecutive snapshots of the frequency response, denoted as h t and h t−∆t , respectively.
The change can be quantified ash t = h t − h t−∆t , where (10) Re{h t (i)} ∼ N (0, 2 2 ), Im{h t (i)} ∼ N (0, 2 2 )(11)Therefore, the amplitude h t (i) follows a Rayleigh distribution with scale parameter √ 2, and the CDFF (x) = 1 − exp − x 2 4 2 , x ≥ 0.
(12)When the notch point disappears due to touch, ||h t (i)|| will experience a peak centered at the notch frequency.
Thus, LiveTag confirms the detection of touch if h t (i) > V th , where the threshold V th can be configured based on the target false alarm rate:P f (V th ) = exp − V th 2 4 2 .
(13)is estimated and kept updated by measuring the mean value of ||h t ||.
According to the property of Rayleigh distribution [13], = E||h t || √ π.
Note that a small P f (V th ) may lead to large miss-detection rate (P m ).
The intrinsic tradeoff will be evaluated empirically in Sec. 7.
Improving robustness through redundancy.
To further improve the robustness of touch detection, LiveTag adds redundancy to the touch point, through frequency and temporal diversity.
First, LiveTag can use multiple co-located resonators with different frequency notches to represent one compound touch point.
A touch event is detected if over half of the notches are detected to change.
Such diversity benefit comes at the cost of reducing tag capacity, but is desirable if robustness is of first concern.
Second, in mobile scenarios, the variation of CSI leads to temporal diversity, and LiveTag can sample more than one set of CSI over time, before applying the PCA to obtain the final tag response.
This weakens more fading profiles that are likely to be uncorrelated, albeit at the cost of increasing detection latency.
Printing tags.
To produce the tag with the desired frequency response, we first conduct ADS simulations following Sec. 3 to design the tag geometries.
For fabrication, we use two types of substrates that are common for microwave systems: FR-4 and RT/duroid 6010 laminates (shown in Fig. 2).
A laminate board consists of two copper layers and the dielectric substrate in between.
The thickness and relative permittivity is 1.588 mm and 4.6 for FR-4, and 0.254 mm and 10.7 for RT/duroid 6010, respectively.
We employ standard PCB milling technology to fabricate the 2D layout of the conductive layer on one side of the laminate, whereas the back side is directly used as the ground layer.To verify each tag fabrication, we first fabricate one version where the transmission line ends with SMA connectors (without the two antennas).
Then we follow the network analyzer setup (Sec. 3.3) to measure the intrinsic frequency response.
Once the measurement matches simulation, we proceed to design a full-fledged tag that replaces the SMA interface with the patch/monopole antenna for over-the-air experiments.Detection algorithms.
We use the Atheros AR9462 WiFi cards, with the ath9k driver, to implement and test a basic version of LiveTag without beamforming (Fig. 15).
Since the WiFi cards do not support customized beamforming, we use a 6-antenna WARP software radio as AP, and a single-antenna WARP board as client, to implement and test LiveTag's beamforming mechanism.
The implementation realizes 802.11ac-compatible preamble generation, packet detection/synchronization, and per subcarrier, per-antenna CSI estimation.
The LiveTag signal processing modules build atop this WiFi PHY.
The transmitter-side fading suppression and LOS nulling algorithms replace the beamforming weights of the normal 802.11ac beamforming with the customized weights specified in Sec. 5.
The receiver-side processes the CSI following the tag identification and touch detection algorithms (Sec. 5).
Our tests show that it only takes 105 ms on average to stitch the CSI by transmitting one packet per channel, and sequentially switch across all channels.We conduct all the experiments in a 14 m ×7 m office, with walls and various objects together creating a reflection-rich multipath environment.
Ordinary human activities are always present in the room.
There also exist 10 external WiFi APs nearby, mostly with moderate traffic.
Although our experiments occasionally experience such external interferences, the impacts are negligible because of the short packet duration.
The interference can be automatically avoided once we migrate LiveTag to normal 802.11 nodes with a full-fledged MAC layer.When evaluating LiveTag, we use filter gain as a microscopic metric, and miss detection (P m ), false alarm (P f ) rate as system level metrics.
Given the frequency response, the filter gain is computed using the average gain of the passband minus the gain at the center frequency point of the notch.
Microscopic verification.
We first verify LiveTag's transmitter side function using a 5-resonator tag with 2 patch antennas and 5 identical L-shaped resonators, with center frequency 2.42 GHz and absolute filter gain 35 dB according to our network analyzer measurement.
The tag is 1.5 m and 0.3 m from the AP and client, respectively.For clarity, we define air filter gain as the filter gain detected over wireless, which is usually different from the one measured by network analyzer due to noise, fading as well as LiveTag's signal processing algorithm.We use 4 antennas on the AP to run the fading suppression and LOS nulling, and measure the over-the-air frequency response (CSI) at the client.
Fig. 16 plots the result, where each frequency response curve is normalized to 0 dB relative to its peak value.
Although all the curves manifest a notch at the resonator's center frequency, each suffers from frequency selective fading, resulting in random notches across the spectrum.
Thus, using the frequency response of a single beam may lead to severe false alarms.
In contrast, LiveTag's fading suppression smooths out the multipath artifacts, making the resonator notch much more pronounced, as shown in Fig. 17.
When LiveTag's beamforming mechanisms are disabled, the tag notch becomes unobservable (dotted curve), which again verifies the critical role of fading suppression and beam nulling.
Fig. 19 Figure 18: Performance of beamforming with different number of (a) antennas and (b) beams.
Error bars denote max/min across 10 runs.
filter gain by 3-5 dB.
Without it, the LOS signals overwhelm the tag reflection, so the air filter gain drops sharply to below 4 dB, even at an AP-to-tag distance of 1 m. Impact of the number of AP antennas.
Due to the limited number of antennas, the beams generated by the AP tend to span a wide angle and bear multiple side lobes [53].
So the corresponding fading profiles are not completely uncorrelated.
In general, using more antennas can narrow the beamwidth, which can improve the effectiveness of fading suppression.
Under the same setup as above, our measurement shows that the filter gain increases significantly with the number of antennas (Fig. 18 (a)), from around 0 dB with 2 antennas, to 13 dB with 6 antennas.
This verifies the effectiveness of LiveTag's beamforming, as higher air filter gain directly translates into higher detection accuracy.
In the rest of the experiments we all use 4 antennas, which most commodity 802.11ac APs have.Impact of beam selection.
Now we rerun the fading suppression but vary the number of beam patterns K.
The result (Fig. 18 (b)) shows that, given 4 Tx antennas, increasing K beyond 4 only offers marginal benefit.
On the other hand, the total packet transmission latency increases linearly with K, e.g., up to around 800 ms for K = 8, which may be intolerable for use cases with quick touches.
This tradeoff justifies the design choice of setting K equal to the number of Tx antennas (Sec. 5.1).
In the following experiments, we will use 4 Tx antennas and 4 beams by default.Detection range.
To test the working range of LiveTag, we first fix the tag-to-client distance at 0.3 m, while varying the AP-to-tag distance.
Fig. 19 (a) shows that, as the tag moves away from the AP, the air filter gain decreases.
This is because a smaller fraction of signals are affected by the tag, resulting in lower impact on the channel response measured at the client.
Nonetheless, even at a distance of 4 m, LiveTag achieves 6 dB air filter gain, which will be shown to be enough for achieving high detection accuracy (Sec. 7.1.2).
Now we fix the AP-to-tag distance at 2 m, and increase the tag-to-client distance.
Fig. 19 (b) shows that the air filter gain drops accordingly, but at a much dramatic rate-to below 6 dB at 0.5 m.
This implies that the detectability of LiveTag is more sensitive to the tagto-client distance.
It happens because the client only has a single antenna, and the muiltipath fading between the tag and client is not suppressed as effectively as that of the AP-to-tag.
These experiments imply that the WiFi client should be within close proximity to the tag to ensure high detection performance.
However, this requirement does not restrict the applications of LiveTag, because the user must be close to the tagged object when interacting with it, and LiveTag can leverage the user's WiFi device (e.g., smartphone in a pocket) as the client.
In addition, this requirement enables many tags to coexist within the same space, because only the tag close to the user would have a high air filter gain, and generate a detectable signature.Detecting tag with commodity WiFi.
We repeat the over-the-air tag response measurement using the Atheros WiFi devices and two tags-one with a single notch at 2420 MHz, and the other with 5 notches at 5 GHz band (the same tag as used for Fig. 13).
The extracted CSI amplitude is plotted in Fig. 20 (Note the 5360 MHz to 5460 MHz band is unaccessible due to FCC regulation).
The results demonstrate that the spectrum signatures are clearly distinguishable even with single-antenna commodity WiFi devices.
We expect the air filter gains can be even higher once we have control over the beamforming functions on such devices.
Tag identification accuracy.
To evaluate LiveTag's tag identification performance, we use a multiresonator tag with 8 compound touch points (Fig. 27), and hence 8 notches in its spectrum signature.
To create multiple sets of spectrum signatures to represent different tags, we can short-circuit any resonator with a copper wire, thus eliminating its frequency notch.
We create 11 tags in total, including a dummy tag with no signatures.
By default, the tag is placed 2 m away from the Tx and 0.2 m from the Rx.
We run LiveTag's identification algorithm, along with the nearest-neighbor (NN) and DTW algorithm (Sec. 5.2), every 1.2 minutes for 100 times over a period of 2 hours, with natural human activities around.
The results show that LiveTag achieves over 95% accuracy, followed by NN (73%), and DTW (28%).
DTW is designed to tolerate the shift/misalignment between curves, but it often erroneously matches two tags with different notch positions, and tends to overrate the fre- Multi-tag coexistence.
Next, we place a 5-resonator tag (target tag) at a fix location, 1.5 m (0.2 m) away from the AP (client).
We then add a second tag (interference tag) and vary its distance from the target tag.
Both tags have frequency notch at 2470 MHz.
Fig. 21 shows that, without the interference tag, LiveTag detects the target tag with 98% accuracy.
When the interference tag falls within 1.4 m, the detection accuracy drops to around 45%.
Nonetheless, the accuracy improves as the interference tag moves away, and reaches above 94% at a distance beyond 1.8 m. Overall, a minimum separation of 2 m would ensure harmonious multi-tag coexistence.
Our microbenchmarks focused on the filter gain metric.
Now we create different air filter gains and measure the the actual P f and P m .
We set the V th to achieve P f = 3%.
For each distance setting, the tag is touched 100 times across 1 hour, with human activities around.
The same tag with 5 identical L-shaped resonators at 2.42 GHz is used.
To adjust filter gain, we simply short different number of resonators with copper foil.
Fig. 22(a) shows that the measured P f is indeed kept close to the target.
In addition, when the detected air filter gain is above 8 dB, the P m is extremely low (<3%).
As the air filter gain decreases, P m increases rapidly (to 9% under 6 dB air filter gain and 28% under 4 dB), because the change of frequency response upon touch occurs at a similar level as channel noise/fading.
We also found that increasing P f decreases P m , but the effect becomes negligible when P f > 3%, which can be used as a sweet spot to configure V th .
Fig. 22(b) further shows the touch detection performance in NLOS scenarios.
Without blockage, the measured air filter gain is 8 dB and P m = 3%.
When a human body blocks the Tx-to-tag or tag-to-Rx path, P m increases to 11% and 14%, respectively, whereas P f still remains low due to the use of CFAR.
Thus, to ensure consistently low P m in NLOS, the tags and AP should be deployed to minimize the likelihood of blockage.To verify the frequency-domain redundancy mechanism (Sec. 5.2), we add up to 6 additional resonators.
The results show that the P m decreases from 9% (under 6dB air filter gain in Fig. 22) down to 0 ( Fig.23(a)).
We further verify the time-domain redundancy by walking with the tag and Rx at 1 m/s.
By aggregating 2 additional CSI measurements, the P m can reduce from 15% to 2% (Fig.23(b)).
To verify the redundancy benefits brought by multiple redundant resonators, we repeat the experiment in Fig. 22, but measure the effective detection range between Tx to tag (a point where P m < 10% when P f is set to 3%).
Fig. 24 shows that the range increases significantly, from 1.1 m to 4.8 m, as the number of redundant resonators increases from 0 to 4.
Therefore, LiveTag can harness redundant resonators to significantly improve the range and robustness of touch detection, albeit at the cost of tag size.
We conduct three case studies, using to 3 different tags printed on the thin RT/duroid 6010 substrate, to verify LiveTag's ability to sense human-object interaction.
Our experiments run in the same dynamic environment as above, where the tag is 1.5 m away from the Tx, and 0.3 m from the Rx.
The P f is configured to 3% by default.Ubiquitous batteryless touch-pad and control panel.
In smart-home environment, one can use LiveTag to create ad-hoc keypad or control panels, attached on walls in kitchen/bathroom, to remotely operate music players, lights, door locks, and numerous other IoT appliances.
We have designed an example tag (Fig. 25) consisting of 9 compound touch points, each with 4 identical resonators.
Following the same experimental methods in Sec. 7.1.3, we measure the detection accuracy.
The results (Fig. 26) show that the P m and P f typically fall below 5%, which verifies the effectiveness of LiveTag in practical usage scenarios.
We have also designed a LiveTag-enabled music controller, with a start/pause button, next-track button, and a sliding bar for tuning volume (Fig. 27 ).
The sliding bar comprises 6 resonators with different notch frequencies at 5 GHz band.
The tag can be attached to a nightstand, kitchen wall, couch armrest, or even clothes, to remotely control WiFi-connected speakers or music players.In our implementation, a sliding event is detected if at least 4 of the touch points on the sliding bar are detected sequentially.
Our measurement (Fig. 28) shows that the detection accuracy of the two buttons is similar to Fig. 22.
But the sliding detection is more robust, with P f ≈ 0, due to the joint effects of multiple touch points.Augmenting everyday objects with touch-sensitivity.
Since LiveTag is printable on thin, flexible substrates, it can be easily attached to plain objects, making them alive and enabling touch-related activity tracking.
Here we adapt LiveTag to design a water level detector, which infers a user's water intake by tracking the water level in a cup.
This simple application can deliver reminders to the user's WiFi device, alleviating the dehydration issue that many people suffer from 1 .
Specifically, we design a tag with 2 monopole antennas and 12 L-shaped resonators, all with the same resonance frequency of 5.6 GHz.
The tag is attached vertically to a water bottle, with its conductive layer facing inwards (Fig. 29).
The water can affect the tag's frequency response, in the same way as finger touch, as long as the bottle is not made of metal which has a shielding effect.
To avoid the impact of water on the antenna, we fold the antenna part outward.
Fig. 30 shows the detected filter gain over different water levels.
The first resonator is detuned by the water when water level reaches 4 cm.
With higher water levels, more resonators are disabled, causing the filter gain to drop proportionally.
This simple relation can be har- nessed by LiveTag to detect the water level.
Note that the bottle movement may also affect the filter gain, but LiveTag can still track the short-term relative change within a period when the bottle remains stable.
Due to space constraint, we leave a full-fledged design and implementation of this application as future work.
Detection range and reliability.
Our experiments indicate that LiveTag can reliably detect touches up to a Tx-to-tag distance of 4.8 m.
The detection accuracy drops to below 90% at longer ranges, in NLOS conditions, or when the tag-to-Rx distance increases.
There exist multiple potential ways to mitigate the performance loss, e.g., increasing number of Tx antennas, designing detection algorithms that accommodate multiple Rx antennas, and incorporating redundant interrogating packets/signals to improve reliability.
We plan to explore these mechanisms as future work.Other use cases.
Although our main focus lies in touch detection, LiveTag does show high potential in other usage scenarios such as inter-object interaction.
Besides, owing to the ability to detect the presence and identity of different tags, LiveTag itself can act as a low-cost WiFidetectable chipless RFID tag, which brings the vision of chipless RFID closer to everyday life.
To make LiveTag more lightweight, we will explore inkjet printing [45], with conductive ink and photopaper as fabrication materials, which can make LiveTag easily available for customizing wireless sensing.
We have demonstrated the feasibility and effectiveness of LiveTag, a passive, batteryless, chipless metallic tag which responds to touches in a way that can be remotely detected by WiFi receivers.
LiveTag marks the first step in achieving two visions: (i) Reconfigurable wireless sensing.
Since LiveTag holds potential to be inkjet-printed on photopapers, it allows users to customize various types of WiFi-detectable touch interfaces in smart home environment.
(ii) Converting dumb objects into smart ones.
By attaching the tag, even plain everyday objects can be "smart", track human activities, and become part of the Internet of Things through the LiveTag WiFi detector.
A more in-depth exploration of these visions is a matter of our future work.
