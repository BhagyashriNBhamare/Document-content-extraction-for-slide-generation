Burstiness and temporal dependence in service processes are often found in multi-tier architectures and storage devices and must be captured accurately in capacity planning models as these features are responsible of significant performance degradations.
However, existing models and approximations for networks of first-come first-served (FCFS) queues with general independent (GI) service are unable to predict performance of systems with temporal dependence in workloads.
To overcome this difficulty, we define and study a class of closed queueing networks where service times are represented by Marko-vian Arrival Processes (MAPs), a class of point processes that can model general distributions, but also temporal dependent features such as burstiness in service times.
We call these models MAP queueing networks.
We introduce provable upper and lower bounds for arbitrary performance indexes (e.g., throughput, response time, utilization) that we call Linear Reduction (LR) bounds.
Numerical experiments indicate that LR bounds achieve a mean accuracy error of 2%.
The result promotes LR bounds as a versatile and reliable bounding methodology of the performance of modern computer systems.
Capacity planning of modern computer systems requires to account for the presence of nonrenewal features in workloads, such as Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
To copy otherwise, to republish, to post on servers or to redistribute to lists, requires prior specific permission and/or a fee.
SIGMETRICS'08, June 2-6, 2008, Annapolis, Maryland, USA.
Copyright 2008 ACM 978-1-60558-005-0/08/06 ...$5.00.short-range or long-range temporal dependence which significantly affect performance [23-25, 31, 33].
A typical example of temporal dependence is workload burstiness, where the jobs processed by the system are not independent, e.g., the arrival of a short job is much more likely to be followed by the arrival of another short job (and vice versa for long jobs).
Time-varying workloads of this type are naturally modeled as nonrenewal workloads with temporal dependence among consecutive requests.Because of the complexity of their analysis, only small nonrenewal models based on one or two queues have been considered in the literature, mostly in matrix analytic methods research [28].
We address the current lack of more general modeling techniques for systems with nonrenewal workloads by introducing and analyzing a new class of closed queueing networks which can account for temporal dependence in their service processes.
Our analysis enables for the first time the analytical performance evaluation of complex environments with nonrenewal workloads and immediately finds application in the capacity planning of multi-tier architectures and storage systems.Capacity planning based on product-form queueing networks [5] has been extensively used in the past, since these models enjoy simple solution formulas and low computational cost of exact and approximate algorithms [10,22].
Queueing networks with general independent (GI) service [8,16,29,32] have been proposed as a solution, but although much more accurate than product-form networks, they remain insufficient for robust performance predictions if the service process is nonrenewal.
That is, because they completely ignore temporal dependence between service times, they cannot be used to predict performance correctly in systems with nonrenewal workloads.
This paper overcomes the limitations of existing modeling techniques by providing a bound analysis methodology for queueing networks with nonrenewal workloads.
We study a class of closed queueing networks where service times are modeled by Markovian Arrival Processes (MAPs).
We call these models MAP queueing networks.
MAPs are a family of point processes which can easily model general distributions and nonrenewal features such as autocorrelation in service times [28].
Efficient fitting schemes for MAP parameterization from measurements are available, e.g., [1,11,20], and the resulting MAPs can approximate effectively long-range dependence [1].
Because of the well-known difficulty of extending exact solution formulas outside the product-form case, we study bound analysis techniques for MAP networks.
With the exception of the general ABA bounds [27] which provide good estimates only for very low or very high population values, no bounding techniques for nonrenewal networks exist and this is due to the lack of exact results which are usually needed to prove the bounding property.
In this paper, we show that it is possible to obtain provable bounds on performance indexes also in non-product-form models.Our nonrenewal bounds derive from the analysis of the Markov process underlying the MAP queueing network.
Because of the state space explosion, its equilibrium behavior cannot be determined exactly, but we argue that it can still be bounded accurately by describing the system with "reduced" state spaces (which we call marginal state spaces).
This state space transformation captures the behavior of the network conditioned on a given queue being busy or idle.
The number of states in these marginal spaces grows linearly with the number of jobs in the network; thus, the proposed approach remains computationally tractable also on models with large populations.
We derive exact balance equations for the equilibrium behavior of the reduced state spaces and illustrate how these formulas can be combined with linear programming [6,26] for the computation of bounds on mean value indexes.
Because the number of reduced states grows linearly with the number of jobs in the network, we call these bounds Linear Reduction (LR) bounds.The main contribution of this paper is to present a new methodology for the efficient analytic solution of queueing networks with nonrenewal workloads.
This methodology automatically applies to queueing networks with renewal workloads as well.
The stated contributions and outline of this work are as follows.
• We provide evidence that existing GI approximations and decomposition methods show unacceptably large errors on queueing network models with temporal dependence in the service process (Section 2).
• We define MAP queueing networks as a generalization of existing queueing networks that can model nonrenewal workloads (Section 3).
• We develop the LR bounds on performance indexes for nonrenewal MAP queueing networks that are based on a new marginal state space reduction (Sections 4 and 5).
• We present an extensive set of representative case studies showing that the LR bounds capture very well mean performance indexes such as response times or utilizations (Section 6).
We stress that MAP queueing networks are a superset of existing non-product-form networks with GI workloads.
Therefore, the presented analytic methodology has a wide applicability.
The LR bounds are corroborated by extensive numerical validation, where we show that they achieve a mean accuracy error of approximately 2% on a set of 10, 000 random models, promoting MAP queueing networks as versatile models of modern computer systems.
We conclude the paper by outlining model generalizations and extensions in Section 7.
The AMPL specification [18] of the LR bounds is available at http://www.cs.wm.edu/MAPQN/.
In Section 2.1, we review previous work on non-product-form queueing network models with FCFS queues and GI service [7].
These models are the renewal specialization of the MAP queueing networks introduced in Section 3.
In Section 2.2, we evaluate the applicability of approximation algorithms for models with GI service to models with nonrenewal service.
Due to limited space, we point the reader to [7,13,22] for general background on queueing network modeling and Markov processes.
Throughout this paper we assume that service time distributions are modeled by the method of phases [7,14].
Closed networks of FCFS queues enjoy a product-form solution if all service times are exponentially distributed [5].
If one or more servers have renewal (also called general independent (GI)) service, such as hyperexponential or Coxian [14], the product-form theory does not apply and approximate methods are used for evaluating performance [7].
An approximation based on Markov renewal theory is developed by Reiser in [29].
For each queue, the MVA arrival theorem [30] is generalized to include the coefficient of variation (CV) of the GI service process.
Experiments in [8,16] show that this approach, although simple, is prone to large approximation errors.In [32], Zahorjan et al. obtain an approximate mean value analysis (AMVA) by decomposition-aggregation [13].
The underlying Markov process of the network is decomposed according to the active phases at the GI servers.
Each partition is evaluated in isolation by Mean Value Analysis [30] and the results are weighted to approximate the GI network.
Validation results of the AMVA decomposition-aggregation show good accuracy.In [16], Eager et al. improve the results in [29] and [32].
The response time at the GI queue used in Reiser's method is replaced by a more effective interpolation which also accounts for the response time at the other queues.
[16] also improves the decomposition method in [32] and makes it compatible with the iterative AMVA framework to achieve lower computational costs on networks with several queues.Marie's method, the diffusion approximation (DA) method, and the maximum entropy method (MEM) assume a product-form for the equilibrium state probabilities of the GI network and approximate the model accordingly [7].
DA and MEM rely on formulas involving only the mean and the coefficient of variation; Marie's method is more general and uses specialized relations for Coxian distributions.
Marie's method provides good accuracy in models with GI servers although its convergence properties have not been assessed [8]; DA and MEM are typically less accurate.Finally, the Chandy-Herzog-Woo (CHW) method [12,22] replaces an arbitrary subsystem by a flow equivalent server which preserves the mean throughput of the original subsystem in each feasible state.
If the subsystem includes GI servers, CHW is known to be less accurate than Marie's method [8].
To the best of our knowledge, no results are available for analyzing closed networks with nonrenewal service, see [28] for related work in single queue systems.
In this section, we establish the applicability of the methods described in Section 2.1 to closed networks with nonrenewal service.We consider identically distributed service processes which are characterized by temporal dependence.
The temporal dependence of a nonrenewal processes can be approximately modeled by the autocorrelation function ρ k which captures the similarity in magnitude of samples spaced by k lags [14].
As an example, a service process can have hyperexponentially distributed samples without being necessarily renewal; that is, the usual terminology "hyperexponential service" implicitly refers to the renewal version of the process, but in general nonrenewal processes with hyperexponential distribution can be defined.
These are immediately obtained by changing the order of the samples without altering their distribution, which results in temporal dependence.A simple case of nonrenewal closed network is shown in Fig- ure 1.
We use this simple model to evaluate the applicability of methods for GI queueing networks to models with nonrenewal service.
Queue 1 is exponential with rate µ1 = 1; queue 2 has MAP(2) is an exponential process with rate µ 1 at queue 1, at queue 2 is a possibly nonrenewal two-phase Markovian Arrival Process (MAP(2)) [28].
service [17] which can exhibit autocorrelation in service time samples and thus be a nonrenewal process.
In a MAP(2), the lag-k autocorrelation ρ k geometrically decays to zero with rate 1 γ2 according to the relation [11].
In this example we choose γ2 = 0.75, the MAP(2) is 33% faster than the exponential queue (i.e., mean rate µ2 = 1.33), has CV = 5, and skewness 15; the process is obtained by the moment and autocorrelation matching algorithm in [11].
The results discussed below are qualitatively similar for other models.ρ k = γ k 2 ` 1 − 1/CV 2 ´ /2,Using the model in Figure 1, we have observed that several of the methods considered in Section 2.1 cannot be applied to models with nonrenewal workloads; we distinguish two groups:Non-applicable methods.
This group includes Reiser's approximation, the AMVA methods in [16,32], Marie's method, DA, and MEM.
Intuitively, these methods cannot apply for the following reasons.
For the considered example, all these methods depend only on the mean, the CV, and the probability of starting service in one of the two phases.
For instance, Marie's method applies corrections based on the two-phase Coxian renewal process model that is completely specified by these three parameters [7].
The information about the order of sampling, that is fundamental to nonrenewal service, is given only by the underlying Markov process which is not directly evaluated by these methods.
Since these techniques ignore the order of sampling of the service times, they cannot account for the temporal dependence and therefore produce identical results if ρ k ≡ 0, k ≥ 1, or in the nonrenewal case ρ k 񮽙 = 0, for some k ≥ 1.
Yet nonrenewal models can have performance that is extremely different from their renewal counterpart [24,25]; therefore these methods are unfit for the analysis of nonrenewal models.Applicable methods.
Decomposition-aggregation [13] can instead be used for the analysis of models with nonrenewal service.
Since this method requires to evaluate all or part of the underlying Markov process, it is not limited to statistical moments of the service time distribution, but can account for changes in the phase transition rates of the MAP which result in autocorrelated samples.
Decomposition-aggregation can be easily applied to the underlying process by aggregating states with identical active MAP phases; methods similar to those in [16,32] can be defined based on this partitioning.However, we have found that decomposition-aggregation can frequently exhibit severe errors if used in networks with nonrenewal service.
Figure 2 show the predicted utilization of decomposition (dashed line) versus the actual utilization (solid line) for the bottleneck queue 1 in Figure 1.
The actual utilization is obtained by solving the underlying Markov process by global balance, therefore it is exact.
The ABA bounds, which apply to general models [22,27], 1 The value γ 2 is in a MAP(2) the second largest eigenvalue of the Markov chain embedded at arrival instants [11].
Figure 1 compared with the ABA bounds [22,27] and the decomposition-aggregation approximation [13].
Although accurate in renewal models, in nonrenewal models the decomposition is often unable to capture the trend of performance indexes such as the utilization shown here.
The saturation of the approximation is due to the saturation of the underlying product-form models used in the decomposition.
Also the ABA bounds, which apply to general networks, are inaccurate.are also depicted.
We recall that other classes of bounds such as the popular balanced job bounds (BJB) apply only to product-form networks [22].
Although decomposition is very accurate in the renewal case, its application to the nonrenewal case results in increasingly large approximation errors for larger populations.
Cases similar to the one plotted in Figure 2 are easy to find for different values of the model parameters.
The low quality of the results in the nonrenewal case is due to the quick saturation of the productform models used in these approximations, which reach maximum utilization for lower loads than the nonrenewal model.The observations of this section indicate that the analysis of nonrenewal workloads cannot be performed accurately with existing techniques for models with GI service times.
Due to the large approximation uncertainty and the lack of an exact product-form solution, bounding techniques are desirable.
In order to address this limitation, in the following sections we introduce a bound analysis methodology for nonrenewal networks.
We introduce the class of MAP queueing networks supporting nonrenewal service which is studied in the rest of the paper.
A summary of the main notation is given in Table 1.
We consider a closed network with single-server queues, which serve jobs according to a MAP service time process and under work-conserving FCFS scheduling.
The service process is independent of both the job allocation across the queues and the state of other service processes.
The network is composed by M queues and populated by N statistically indistinguishable jobs (single class model), which proceed through the queues according to a stateindependent routing scheme.
That is, upon departure from a server i, a job joins queue j with fixed probability pi,j. Without loss of generality, the average visit ratio at j with respect to the number of visits at queue 1 is Vj, thus V1 = 1.
The service process at queue i is modeled by a MAP with Ki ≥ 1 phases.
General service can be approximated accurately by a MAP [4].
If Ki = 1, then the MAP reduces to an exponential distribution, otherwise it generates service time samples that B k j states ( n, k) where j is busy in phase k C k j (i) mean queue-length of queue i within B k j ei vector of zeros with a one in the i-th position h, k, u, k * phase indexes i, j, m queue indexesI k j states ( n, k) where j is idle in phase k J k j (i, h) utilization of queue i in phase h within B k j ∪ I k j ki active phase at queue i in k Ki number of phases in queue i's MAP Kmax maximum Ki, 1 ≤ i ≤ M kphase vector, i.e., active phases M number of queues in the network µi mean service rate of queue i µ k,h i completion rate of queue i, phase k → h N number of jobs in the network ni number of jobs at queue i in n n population vector, i.e., job allocation pi,j routing prob.
from queue i to queue j π( n, k) [17].
It should be nevertheless remarked that MAP fitting can be still a challenging problem if the data has an irregular temporal dependence structure, see [20] for a review.
We point to [11] for a new technique, called Kronecker Product Composition (KPC), that can provide MAP fitting of higher-order moments and temporal dependence structure of arbitrary processes.
The transition from phase k to phase h for the MAP service process of queue i has rate φ k,h i and produces a service completion with probabilityprob.
of state ( n, k) π k j (ni, h) prob.
of ni jobs in queue i in phase h within B k j ¯ π k j (ni, h) prob.
of ni jobs in i in phase h within I k j q k,h i,j rate ( n, k) → ( n − ei + ej, k ′ ), ki = k, k ′ i = h Qit k,h i ; if h = k then t k,k i = 1 according to the MAP definition.
We define µ k,h i = t k,h i φ k,h ito be the rate of job completions in phase k that leave the MAP in phase h; is in row k and column h of D0.
We point the reader to [20] and references therein for background on MAPs and MAP fitting.v k,h i = (1 − t k,h i )φ k,h i , k 񮽙 = h is General MAP service requires to maintain information at the process level on the current service phase at each queue.
A feasible network state in the queueing network underlying Markov process is a tuple ( n, k), where n = (n1, n2, . . . , nM ), 0 ≤ ni ≤ N , P M i=1 ni = N , describes the number of jobs in each queue, and k = (k1, k2, . . . , kM ), 1 ≤ ki ≤ Ki, specifies the active phase for each service process.
According to this space, the Markov process transitions have rate q k,h i,j from state ( n, k)to ( n − ei + ej, k ′ ), ki = k, k ′ i = h,where et is a vector of zeros with a one in the t-th position; the rate is computed asq k,h i,j = ( pi,jµ k,h i , i 񮽙 = j, v k,h i + pi,iµ k,h i , i = j and k 񮽙 = h.(1)In (1), q k,h i,j is for i 񮽙 = j the rate of departures from i to j triggering a phase transition in i's service process from phase k to h; otherwise it accounts for the background transitions v k,h i and the rate of the self-looping jobs pi,iµ k,h i .
Note that the case for i = j and k = h is not explicitly accounted since it corresponds to the diagonal of the infinitesimal generator of the Markov process.
This diagonal is computed to make each row sum to zero.The size of the infinitesimal generator corresponds to the cardinality of the related global balance equations and is of the order of`N+M of`of`N+M −1N ´` Kmax+M −1 Kmax´ Kmax´, where Kmax is the maximum of Ki, 1 ≤ i ≤ M ; this size quickly becomes computationally prohibitive.As a summarizing example, the MAP network in Figure 3 with routing probabilities p1,1, p1,2, p1,3 = 1 − p1,1 − p1,2 at the first queue and p2,1 = 1, p3,1 = 1, at the remaining queues has underlying Markov process as shown in Figure 4.
The state space description is given in the caption.
For p1,1 = 0.1 and p1,2 = 0.7 the network reduces to Balbo's model used in the numerical experiments in [8]; throughout the paper we illustrate some of the proposed techniques using this model.
General approximation techniques for non-product-form models, such as decomposition, are reviewed in Section 2.
These approaches often start from the idea of applying a state space transformation to reduce model complexity.
For instance, approximate lumping is used in decomposition to partition the state space into macrostates that can be evaluated in isolation [7].
However, existing state space reductions introduce approximation errors that cannot be bounded in sign or in magnitude.
This leaves a high degree of uncertainty on the final approximation accuracy.
In this section we develop a new family of state space reductions that does not introduce any degree of approximation, while still simplifies model analysis.
The proposed reduction is therefore exact, but because of several differences from exact lumping, the transformation cannot be reduced to lumping or to any method presented in previous work.
200 1 and µ 2 ≡ µ 1,1 2 , respectively; the third queue is a MAP withµ 2 µ 2 µ 2 µ 2 µ 2 µ 2 µ 1 p 1,2 µ 1 p 1,2 µ 1 p 1,2 µ 1 p 1,2 µ 1 p 1,2 µ 1 p 1,2 v 1,2 3 v 1,2K 3 = 2 phases having µ k,h 3 = 0 for k 񮽙 = h, that is a MMPP(2) process.
(002, 1) indicates that the exponential queues are idle and the MAP queue has two jobs and is in phase 1; in (110, 2), the phase 2 is the phase left active by the last served job.
We introduce a state space reduction that scales linearly with the population size.
We use the term "busy condition" to identify the set of states where a given queue is busy in a certain phase, which is intuitively similar to a conditional state space.
For each model we generate the following O(K 2 max M 2 ) reduced state spaces with dimension O(N ) as follows.DEFINITION 1 (MARGINAL STATE SPACES).
Let the busy con- dition subspace B k j = {( n ′ , k ′ ) : n ′ j ≥ 1, k ′ j =k} be the set of states of the MAP network where queue j is busy and in phase k.
The marginal state space of queue i in phase h within B k j is the state space describing the observation within B k j of queue i's queuelength while its phase is h, 1 ≤ h ≤ Ki, (the cases i = j and h = k are both considered).
Since in a non-product-form network the state of a queue implicitly depends also on the activity of the rest of the network, the marginal state spaces allow to explore in a compact way the mutual relations between any two queues i and j.
A probabilistic definition of marginal state space is given later in Section 4.1.1.
Two example marginal spaces for the model in Figure 4 obtained for the busy condition subspace B 1 3 are shown in Figure 5.
Figures 5(a)-(b) are obtained by observing the exponential queue i = 2 in its only phase h = 1 within B 1 3 .
Since queue 3 is always busy in B 1 3 , it has queue-length n3 ≥ 1 and the queue-length of queue 2 can only be n2 = 0 or n2 = 1.
Note that the rate of transitions from n2 = 1 to n2 = 0 depends only on queue 2's service rate µ2; the rate from n2 = 0 to n2 = 1 depends instead on job completions at the other queues and in the original state space is equal to π(101, 1)p1,2µ1 which is unknown 2 without the equilibrium probability π(101, 1).
Figure 5(b) similarly describes the queue-lengths of queue 3 in phase 1 within B 1 3 , which can be only n3 = 1 or n3 = 2 since queue 3 is busy.
The unknown transition rate is in this case π(101, 1)p1,3µ1.Figure 5 clearly shows that our approach differs from an exact lumping or a decomposition-aggregation for at least three reasons: the latter techniques are applied to the entire state space and not to busy subspaces only, the aggregates are always non-overlapping 2 We henceforth assume that global balance solutions for MAP network is prohibitively expensive, therefore the equilibrium probabilities are all unknown.
Figure 4 that are implicitly accounted for in the marginal state spaces for queue 2 and for queue 3 in phase 1 depicted in figure (b) and (d), respectively.
Note that the reduction is not a lumping or a decomposition-aggregation since we are completely ignoring the transition from/to the busy condition subspace that are present in Figure 4; also some rates would require the equilibrium probability of the state (101, 1) in Figure 4 which is unknown, and therefore the marginal state space cannot be solved in isolation.
(two busy subspaces instead can overlap, e.g., B3,1 and B2,1), and the aggregates result in a reduced state space where all rates are known so that it is later analyzed by other techniques (e.g., decomposition solves each macrostate in isolation by global balance or mean value analysis).
The main idea motivating the busy condition reduction is as follows.
Even if some rates are unknown, we can obtain balance equations both for the equilibrium inside each marginal space or between the probabilities of multiple marginal spaces.
We show in Section 5 how the busy condition reduction can be used to define the LR performance bounds.
The marginal probability π k j (ni, h) of having ni jobs in queue i during phase h, 1 ≤ h ≤ Ki, while queue j is busy in phase k, 1 ≤ k ≤ Kj , completely characterizes the marginal state spaces.
Each marginal probability can be computed asπ k j (ni, h) = P {( n ′ , k ′ )∈B k j :n ′ i =n i ,k ′ i =h} π( n ′ , k ′ ),where B k j is the busy condition subspace of queue j in phase k.By definition, it is π k j (ni = N, h) ≡ 0 for i 񮽙 = j, π k j (nj = 0, k) ≡ 0, π k j (nj , h) ≡ 0 for h 񮽙 = k, and π k j (nj , k) ≥ P K i h=1 π h i (nj, k) for j 񮽙 = i, nj ≥ 1.
The last inequality follows immediately by observing that π k j (nj , k) accounts for all states in P K i h=1 π h i (nj, k) plus the states within B k j where i is idle.
Because any event in the underlying Markov process involves at most two-phases and two queues, that is, source and destination queues for job departures with a possible phase transition at the source queue, the marginal probabilities π k j (ni, h) still capture all departures and phase changes in the model.
Therefore, the knowledge of all π k j (ni, h)'s is sufficient to compute all mean performance indexes of interest in the original state space, including: the utilization of queue i, i.e., Ui = P K i k=1 U k i , where we denote by U k i the utilization of i in phase k, that isU k i = P N nt=0 P Kt h=1 π k i (nt, h)(2)where t, 1 ≤ t ≤ M , is an arbitrary queue since the summation is always equal to the probability of the busy subspace B k i ; the throughput which by the Utilization Law [22] isX = K 1 X k=1 K 1 X h=1 M X j=1 q k,h 1,j U k 1 = U1µ1/V1,that is the mean rate of jobs flowing out of queue 1 assumed as reference for network completions and where µ1 denotes the mean rate of the MAP service process at queue 1; the mean queue-length of queue i is Qi = P K i k=1 Q k i , withQ k i = P N n i =1 ni π k i (ni, k)(3)being the mean queue-length of i in phase k. Note that these indexes are also sufficient to compute response and residence times by Little's Law, see [22].
In particular, the response time is R = N/X.
We characterize the equilibrium reached at steady state by marginal spaces.
We focus on the marginal state spaces which describe a single busy subspace B k j and use the population constraint P M i=1 ni = N .
Although an obvious condition, it is impossible to impose it if the state space is transformed in such a way to hide some of the ni's, as in the marginal state spaces.
We therefore define a new population constraint for the busy condition subspace.THEOREM 1.
Define C k j (i) = P N n i =1 P K i h=1 niπ k j (ni, h),(4)as the mean queue-length of i in the busy condition subspaceB k j , thus C k j (j) = Q k j .
Then within B k j the C k j (i) sum to N U k j , i.e., P M i=1 C k j (i) = N U k j ,(5)1 ≤ k ≤ Kj.PROOF.
Using (2) and the population constraint we haveN U k j = P M i=1 ni P N nt=0 P Kt h=1 π k j (nt, h) and choosing the arbitrary queue t equal to iN U k j = P M i=1 P N n i =1 P K i h=1 niπ k j (ni, h) = P M i=1 C k j (i).
We obtain a constraint for multiple busy subspaces which resembles the global balance equations of the MAP service process considered in isolation.
THEOREM 2.
The utilizations of queue i in its Ki phases are in equilibrium, i.e.,P M j=1 K i P h=1 h񮽙 =k if j=i q k,h i,j U k i = P M j=1 K i P h=1 h񮽙 =k if j=i q h,k i,j U h i ,(6)for all 1 ≤ i ≤ M , 1 ≤ k ≤ Ki.PROOF.
(Sketch of the proof, see [9] for a complete derivation.)
Consider the cut separating the group of states G i k where queue i is in phase k from the complementary set of states C i k where queue i is in phase h 񮽙 = k.
The outgoing probability flux from G i k is the left hand side of (6) and must be balanced at steady state by an equal incoming flow generated by the phase change transitions in C i k .
This probability flux is exactly the right hand side of (6), which completes the proof.The derived equation imposes that the MAP in isolation and the MAP observed in the busy subspaces of queue i have the same stochastic properties, which is expected if the service process of queue i is independent of the job allocation across the network and of the service processes of the other queues.
Compared to the previous balances which only involve means such as queue-lengths or utilizations, the balances described in this section, called marginal balances, are more informative as they relate individual marginal probabilities.We have found that there exists a form of partial balance between marginal state spaces, although the class of models considered in this paper is non-product-form.
This new class of balances, called marginal balances, shows that MAP service imposes an equilibrium between the departure and the arrival process of queue i in groups of states belonging to different busy subspaces.
Marginal balance derives from global balance, but characterizes only the set of marginal queue-length probabilities which makes it always computationally tractable.
The balance is expressed as follows.
i when its queue-length is ni jobs, 1 ≤ ni ≤ N − 1, is balanced by the rate of departures when the queue-length is ni + 1, that is,P M j=1 j񮽙 =i P K j k=1 P K j h=1 P K i u=1 q k,h j,i π k j (ni, u) = P M j=1 j񮽙 =i P K i k=1 P K i h=1 q k,h i,j π k i (ni + 1, k),(7)for all 1 ≤ i ≤ M .
In the case ni = 0 the marginal balance specializes to the more informative relationP M j=1 j񮽙 =i P K j k=1 P K j h=1 q k,h j,i π k j (ni = 0, u) = P M j=1 j񮽙 =i P K i k=1 q k,u i,j π k i (ni = 1, k),(8)which holds for each phase u,1 ≤ u ≤ Ki, with 1 ≤ i ≤ M .
PROOF.
(Sketch of the proof, see [9] for a complete derivation.)
The statement is a consequence of the state partitioning that separates the states where i has no more than ni enqueued jobs from the states where the queue-length is at least ni + 1 jobs.
Their exchanged probability flux must be balanced at steady state.
The flux from the partition for states ni to the partition for state ni + 1 is equal to the rate of a job completed anywhere in the network being routed to queue i.
This is the left hand side of (7), which also accounts for all possible phases of the job's departing queue j and the destination queue i.
The opposite flux from ni + 1 to ni has rate equal to the right hand side of (7), which is the set of all possible departures from i that are not routed to i itself.Following the proof of the marginal balance conditions, we obtain an additional balance between marginal probabilities.
COROLLARY 1.
Let k * , 1 ≤ k * ≤ Ki, be a phase of queue i; the following balance holds for each queue-length ni, 1 ≤ ni ≤ N − 2,P M j=1 j񮽙 =i P K j k=1 P K j h=1 (q k,h j,i π k j (ni + 1, k * ) + P K i u=1 u񮽙 =k * q k,h i,j π k j (ni, u)) + P K i k=1 k񮽙 =k * q k * ,k i,i π k * i (ni + 1, k * ) = P M j=1 j񮽙 =i (q k * ,k * i,j π k * i (ni + 2, k * ) + P K i k=1 k񮽙 =k * (q k,k i,j π k i (ni + 1, k) + q k,k * i,j π k i (ni + 2, k) + P K i h=1 h񮽙 =k q k,h i,j π k i (ni + 1, k))) + P K i k=1 k񮽙 =k * q k,k * i,i π k i (ni + 1, k),(9)for all 1 ≤ i ≤ M .
For ni = N − 1 the balance reduces toP K i k=1 k񮽙 =k * q k * ,k i,i π k * i (ni + 1, k * ) + P M j=1 j񮽙 =i P K j k=1 P K j h=1 P K i u=1 u񮽙 =k * q k,h i,j π k j (ni, u) = P M j=1 j񮽙 =i P K i k=1 k񮽙 =k * (q k,k i,j π k i (ni + 1, k) + P K i h=1 h񮽙 =k q k,h i,j π k i (ni + 1, k)) + P K i k=1 k񮽙 =k * q k,k * i,i π k i (ni + 1, k),(10)for all 1 ≤ i ≤ M .
PROOF.
The proof follows similarly to the proof of Theorem 3 by now considering the set of states where i has no more than ni enqueued jobs except for phase k * , 1 ≤ k * ≤ Ki, where its population can be no more than ni + 1.
The theorem follows imposing the equilibrium at the interface with the set of states where the marginal queue-length is at least ni + 1 and in phase k 񮽙 = k * and at least ni + 2 and in phase k * .
This state space reduction can be regarded as the complementary of the busy condition reduction described in the previous section.
We consider the idle condition subspace I k j where queue j is empty and the last served job has left the MAP process at j in phase k, 1 ≤ k ≤ Kj.
We obtain a set of O(KmaxM 2 ) reduced state spaces with dimension O(N ) by describing the evolution within I k j of the queue-length of i during phase h, 1 ≤ h ≤ Ki.
The related marginal probability function is¯ π k j (ni, h) = P ( n ′ , k ′ )∈ ¯ S k j (n i ,h) π( n ′ , k ′ ),(11)where the marginal space is¯ S k j (ni, h) = {( n ′ , k ′ ) ∈ I k j : n ′ i = ni, k ′ i = h}, the idle subspace is I k j = {( n, k) : nj = 0, kj = k}.
Further, by the given definitions, ¯ π k j (nj , h) ≡ 0 if nj ≥ 1 or h 񮽙 = k and similarly to the busy condition reduction π k j (nj , k) ≥ P K i h=1 ¯ π h i (nj , k) for j 񮽙 = i, nj ≥ 1.
Note that from the complementarity of π k j (ni, h) and ¯ π k j (ni, h), the total state space probability is immediately obtained asP K i h=1 P N n i =0 (π k j (ni, h) + ¯ π k j (ni, h)) = 1,(12)for all 1 ≤ i ≤ M .
Moreover, let the utilization of queue i in phaseh within B k j ∪ I k j be J k j (i, h) = P N n i =1 (π k j (ni, h) + ¯ π k j (ni, h)).
(13)where by definition the second term in the summation may be rewritten asP N n i =1 ¯ π k j (ni, h) = π h i (nj = 0, k),(14)which similarly to (12) relates the busy and idle reductions.
Balances similar to those given for the busy condition reduction can be derived for the idle time reduction.
For instance, following the proof of (5) one immediately obtains the population constraintP M i=1 ¯ C k j (i) = N ¯ π k j (nj = 0, k),(15)where ¯ π k j (nj = 0, k) is the probability of I k j and¯ C k j (i) = P N n i =1 P K i h=1 ni ¯ π k j (ni, h)(16)is the mean queue-length of i in phase h within I k j .
The balance equations obtained for the idle reduction are often redundant with the balances of the busy ones.
Therefore, we are not interested in developing a comprehensive characterization of this reduction.
We point out two relations deriving from manipulations of the global balance equations which characterize B k j ∪ I k j where j is in phase k; these formulas cannot be expressed within the probability space of the busy subspace only.THEOREM 4.
The sum of mean queue-lengths during the subspaceB k i ∪ I k i satisfies P M t=1 (C j k (t) + ¯ C j k (t)) ≥ N P K i h=1 J k j (i, h),(17)for all 1 ≤ i ≤ M , 1 ≤ j ≤ M , 1 ≤ k ≤ Kj .
PROOF.
Letting P B k j ∪I k j ≡ P ( n, k)∈B k j ∪I k j , we have N P B k j ∪I k j π( n, k) = P M t=1 P B k j ∪I k j ntπ( n, k) = P M t=1 ( P B k j ntπ( n, k) + P I k j ntπ( n, k)) = P M t=1 (C j k (t) + ¯ C j k (t)),where the last passage follows by definition of C j k (t) and ¯ C j k (t) as mean queue-lengths in B k j and I k j .
Starting from the same term we also haveN P B k j ∪I k j π( n, k) ≥ N P K i h=1 J k j (i, h)since the utilization of any queue i, 1 ≤ i ≤ M , during B k j ∪ I k j cannot be greater than the sum of the probabilities of all states ofB k j ∪ I k j .
THEOREM 5.
The performance indexes in busy and idle subspaces are related by the following equationP K i h=1, h񮽙 =k P M j=1 q k,h i,j Q k i + P M j=1, j񮽙 =i P K i h=1 q h,k i,j U h i = P M j=1, j񮽙 =i P K j h=1 P K j u=1 q h,u j,i J k i (j, h) + P K i h=1, h񮽙 =k P M j=1 q h,k i,j Q h i ,(18)for all 1 ≤ i ≤ M , 1 ≤ k ≤ Ki.PROOF.
(Sketch of the proof, see [9] for a complete derivation.)
The proof follows similarly to that of Theorem 2 by weighting the contribution of each group of states by ni.
We point to the technical report [9] for an extensive derivation.
We obtain the LR bounds using the results for the busy and the idle condition reductions.
We determine the values of the marginal probabilitiesπ = {π k j (ni, h), ∀ i, j, k, h, ni} ∪ {¯ π k j (ni, h), ∀ i, j, k, h, ni} fmin = min f (π)subject to: /* preliminary definitions */ eq.
(2), (3), (4), (13), (16);C k j (j) = Q k j ; π k j (nj, k) ≥ P K i h=1 π h i (nj , k), if nj ≥ 1, i 񮽙 = j; π k j (nj, k) ≥ P K i h=1 ¯ π h i (nj , k), if nj ≥ 1, i 񮽙 = j; π k j (nj, h) = 0, if nj = 0; π k j (nj, h) = 0, if h 񮽙 = k; π k j (ni, h) = 0, if ni = N , i 񮽙 = j; ¯ π k j (nj, h) = 0, if nj ≥ 1; /* exact characterization */eq.
(5), (6), (7), (8), (9), (10), (15), (17), (18); /* reduction constraints */ eq.
(12), (14); so that the linear function f (π) is a bound on a performance metric fexact ≡ f (πexact), where πexact is the set of exact equilibrium probabilities of the MAP network.
In the case of lower bounds fmin ≤ fexact, the values of the marginal probabilities in π can be determined using linear programming [6] as follows.
The last proposition generalizes immediately if the linear program is reformulated to compute an upper bound (LR Upper Bound) fmax = max f (π) ≥ f (πexact); therefore the same constraints in Figure 6 can be used both for upper and lower bounds and only the objective function has to be modified.
/* feasibility of results */ π k j (ni, h) ≥ 0, for all π k j (ni, h) ∈ π.
¯ π k j (ni, h) ≥ 0, for all ¯ π k j (ni, h) ∈ π.The accuracy of the LR bounds is validated in the Section 6.
The computational costs of the LR technique are indeed feasible for practical applications, e.g., we have solved the linear program for a model with 10 MAP(2) queues and N = 50 jobs using an interior point solver in approximately four minutes; for N = 100 the solution of the same model is found in approximately ten minutes suggesting good scalability.
In general, the complexity of computing bounds with the linear program in Figure 6 grows as O(lp(M 2 Kmax + M N, K 2 max M 2 N )), where lp(r, c) is the computational cost of solving a linear program with r rows and c columns.
The number of rows is either dominated by the number of possible marginal balances for the case ni ≥ 1 that is O(M N ) or by the number of inequalities (17) Table 2 compares the number of states in the marginal state spaces with the original state space size in models with larger population and number of queues.
The reduced spaces have cardinality that can be several orders of magnitude smaller than the original state space.
The balances obtained in the Section 4 provide a rich characterization of the underlying Markov process of the MAP network.
However, the number of exact relations remains much smaller than the number of the marginal probabilities π k j (ni, h) and ¯ π k j (ni, h).
We stress that our exact characterization is in general underdetermined and describes a family of possible equilibria for the underlying Markov process, among which we cannot distinguish the real one.
The linear programming approach allows to select the equilibrium that provides a worst-case or best-case bound on a given performance metric.Because of the complexity of the feasibility region described by (2)-(18), it is also very hard to establish the relative importance of each equation with respect to the others, as well as determining analytical linear independence conditions among the balance equations.
In our experiments, we have frequently observed that removing either equation (7) or (18) reduces significantly the quality of the bounds.
Conversely, we have found that (9) and (10) improve accuracy only on certain models.
Standard sensitivity analysis of linear programs [6] may be used as a tool for investigating the relative importance of a certain balance for the model under study in order to minimize the size of the linear program.
We assess the accuracy of the LR bounds using the following methodology.
We use both randomly-generated models and representative case studies, see Table 3 for a description of the employed input parameters.
In order to assess the accuracy of the LR bounds, we evaluate their maximal relative error with respect to the exact solution of the MAP network computed by global balance.
Due to the state space explosion, the experimentation using exact global balance solutions is often prohibitive for MAP networks with more than three queues and population N ≥ 100.
Given its mean, CV, skewness, and autocorrelation decay rate γ2, a MAP(2) is generated using the exact moment and autocorrelation matching formulas in [11].
Table 3: Input parameters used in the validation study.For each model, we use the linear program in Figure 6 to compute upper and lower limits Xmax and Xmin on the mean throughput f (π) = X. Then, using Little's Law we get the response time bounds Rmin = N/Xmax and Rmax = N/Xmin which are used to compute absolute relative errors from the exact response time R.
We do not report errors on other measures due to lack of space, but we remark that they are typically in the same range as those of response time.
We used the GNU Linear Programming Kit [19] to solve the linear program on an Intel Xeon 3.73Ghz using an AMPL specification [18] of the linear program in Figure 6.
The AMPL specification is available for download at [15].
In order to evaluate the general quality of the LR bounds, we evaluate 10, 000 random models.
The models are generated according to the specifications in Table 3.
Each random model is solved for all feasible populations and the following absolute value of the maximal relative error is computed∆ bnd = max N ˛ ˛ ˛ ˛ R bnd (N ) − Rexact(N ) Rexact(N ) ˛ ˛ ˛ ˛ ,where Rexact(N ) is the response time of the exact solution computed for the network considered with population N and R bnd (N ) is the LR bound evaluated with the same population, either Rmax(N ) or Rmin(N ).
We stress that the ∆ error function is a conservative estimator since it returns the maximum error of R bnd over all evaluated populations.
The converge of the bounds to the exact asymptotic value is not accounted by this metric and only the worst case error is measured.
We see that the variability in the routing matrix makes it possible to evaluate different levels of balancing in the mean service demand at the queues.
Table 4 indicates that the proposed bounds perform extremely well also for this class of models.
The mean error is 1 − 2% for both bounds with a standard deviation of 0.02; the median is less than the mean, indicating that the asymmetry of the error distribution is more concentrated on small errors.
The maximum error is found to be 14.2% for the response time upper Table 4: Results of Random Experiments Absolute maximal relative error (0 ≡ 0%, 1 ≡ 100%) over 10, 000 random queueing networks for the response time R = N/X (R min =lower LR bound, Rmax=upper LR bound).
E.g., the mean of the error ∆ is 1.3% for Rmax and 2.2% for R min .
bound and 12.6% for the lower bound.
We have inspected carefully these cases and found that models with more than 10% error in at least one of the two bounds account for only the 1% of the total number of experiments.
The burstiness in these cases increases the response times at the autocorrelated station in a way that cannot be easily captured.
Furthermore, the lower bound seems to be more sensitive to increased variability and autocorrelation than the upper bound, where the worst case error is for a MAP with moderate burstiness.
The difference in sensitivity to MAP parameters is a positive property of the LR bounds, because large inaccuracies in one bound can be compensated by the relative accuracy of the other.
Detailed numerical sensitivity of the two bounds with respect to the model parameters supporting these intuitions is discussed in the next subsection.
We consider six representative case studies illustrating the accuracy properties of the LR bounds; the results presented in this sections are typical of the actual bound accuracy as we have shown in the random model validation section.Depending on the experiment, the MAP can be either an Erlang-2 (E2), a renewal two-phase hyperexponential (H2), a Poisson process (M ), or a nonrenewal MAP(2) (M AP ).
As we show in Case 3, the bounding is more difficult for increasing values of CV; therefore we consider the E2 process with CV < 1 only in Case 1.
To focus on the effects on accuracy of the most important moments (i.e., mean and CV), we also fix in the case studies the skewness to 30.
In the random experiments, we have spanned all feasible skewness values for the considered MAPs (range [2,250]).
The network is composed by two queues in series.
The service process can be E2, M , H2 or M AP .
For all processes, the mean rate is µ1 = 1 at the bottleneck queue 1, µ2 = 2 at the nonbottleneck queue 2.
The MAP has CV = 5 and autocorrelation decay rate (γ2 = 0.5); the H2 has the same moments of the MAP, but being renewal ρ k ≡ 0, for all lags k ≥ 1.
Results.
Table 5 reports the maximal relative error on response times for all possible combinations of service processes.
It is found that: (1) nonrenewal models are significantly more difficult to evaluate than renewal models, e.g., on the most difficult renewal case, the H2/H2 model, the LR bounds progressively converge to the exact as N increases, while on the MAP/MAP case the error remains at 10% also for N = 100; (2) hyper-exponential CVs are typically more difficult to approximate than hypo-exponential CVs; (3) the error of Rmin is no greater than 4% and is quite insensitive to the service process type; (4) Rmax is more sensitive to nonrenewal service where it achieves a worst-case error of 11%.
We evaluate the impact on accuracy of network routing, showing the counter-intuitive fact that nonrenewal balanced networks are difficult to approximate.
We consider the three queue model in Figure 3 with the mean service rates considered in [8], i.e., µ1 = 1/0.028, µ2 = 1/0.04, and µ3 = 1/0.28.
We evaluate the accuracy of the LR response time bounds in the case where the network is perfectly balanced (p1,1 = 0.2, p1,2 = 0.7, p1,1 = 0.1), partially unbalanced (i.e., queue 3 is bottleneck, queue 1 and queue 2 are balanced, p1,1 = 0.1, p1,2 = 0.7, p1,1 = 0.2, this case corresponds to Balbo's model in [8]), or unbalanced (queue 3 is bottleneck, queue 2 is slower than queue 1, p1,1 = 0.33, p1,2 = 0.33, p1,3 = 0.34).
The MAP queue 3 has CV = 4 and γ2 = 0.5.
Results.
Figure 7 shows the LR bounds on response times and queue 3 utilization in the balanced and partially unbalanced cases; the utilization bounds follows immediately from the response time bounds by Little's Law and the Utilization Law [22] and are useful to evaluate the LR bound accuracy as a function of the bottleneck queue congestion level.
We have found that the unbalanced case is extremely similar to the partially unbalanced and therefore is not plotted.
It is found that: (1) the LR bounds of both utilization and response times are very close to the exact value on most populations; (2) both bounds progressively converge to the asymptotic exact, a feature that is not always found in standard bounds for queueing networks (e.g., the ABA lower utilization bound never converges asymptotically if M ≥ 2); (3) the slower asymptotic convergence in the balanced case makes the approximation more challenging, but the maximal error remains less than 11% of response time and 12% of bottleneck utilization.
We consider the nonrenewal MAP/MAP model in the last row of Table 5 and we vary the CV and the autocorrelation decay rate γ2 for the two identical MAPs.Results.
Table 6 reports the maximal relative error on response times.
It is found that: (1) the error of Rmin is loosely sensitive to CV and γ2; (2) the error of Rmax is proportional to both CV and γ2, but decreases with the population size; (3) the maximum error of Rmax (13%) is compensated by the minimum error of Rmin (0%).
Note that the errors are higher than in the random models since we are now considering two MAPs instead of one.
We illustrate the applicability to real workloads evaluating the model in Figure 3 using Balbo's partially unbalanced configuration (p1,1 = 0.1, p1,2 = 0.7, p1,1 = 0.2) and considering at queue 3 the nonrenewal MMPP(16) fitted in [1] from the classic long-range-dependent (LRD) Bellcore-pAug89 trace of [23].
This trace is often considered in the literature as representative of many long-range dependent processes found in modern computer, communication, and multimedia systems.
We scale the mean of the MMPP(16) so that µ3 = 1/0.28; CV, skewness and autocorrelations are unchanged (see [1] for details on this MMPP(16) and its autocorrelations ρ k ).
Results.
Table 7 illustrates results for different populations.
We consider N = 50 instead of N = 100 because global balance [1] by a MMPP(16).
Absolute value of the maximal relative error (0 ≡ 0%, 1 ≡ 100%) on the response time R = N/X for the network in Figure 3 with the MMPP(16) at queue 3 (∆ min =lower bound error, ∆max=upper bound error).
N = 10 N = 25 N = 100 CV γ 2 ∆ min ∆max ∆ min ∆max ∆ min ∆max 2is prohibitively expensive in the second case.
The results indicate that: (1) the maximal error is of 5% and the accuracy improves with the population size.
This result is consistent with the accuracy levels in the other case studies and indicates the applicability of the LR bounds also with models of real workloads; (2) because of the large order of the MMPP, the experiment also illustrates the low sensitivity of accuracy to changes in the number of phases.
We consider a closed network with three queues in series.
The mean service rate at queue i is µi = i. Service is either exponential or MAP(2) with CV = 4 and γ2 = 0.5.
During the i-th experiment, 0 ≤ i ≤ 3, the first i queues are exponential, while the remaining M − i are MAP (2).
Results.
Table 8 reports results of the four experiments.
It is found that: (1) the worst case error of 11% is achieved when all three queues are MAP(2); (2) both LR bounds are sensitive to the increase in the number of MAP queues; (3) with zero or one MAP (2) the bounds yet converge asymptotically to the exact value; (4) the same conclusion is not immediate for the other cases, but computing Rmin and Rmax for N = 250, 500 reveals (not shown in the table) that at N = 250 the gap between the bounds is Rmax/Rmin− 1 ≈ 11%, while for N = 500 it drops to ≈ 6% suggesting convergence.
In general, we have observed that for large models with dense routing matrices the linear constraining of the inevitably very small marginal probabilities may lead to numerically difficult problems.
Figure 3.
The unbalanced case (not depicted) is qualitatively similar to the partially unbalanced, but shows a quicker convergence to the saturation.
In these cases, interior point algorithms perform better than the simplex algorithm [6], but the numerical corrections of the linear solver can inflate computational times.
However, if the model is large and the routing is sparse, the numerical conditioning is usually much improved, and models up to 15-20 queues and hundreds of jobs can be evaluated efficiently.
In this example, we study a distributed system composed by a farm of J Web servers.
Each Web server serves directly static object requests (e.g., pictures) and communicates with a local database for the generation of HTML pages.
Each local subsystem of Web server and database server is modeled as shown in Figure 8 similarly to the model of a real J2EE Web application defined and validated in [21].
We use the values found in [21] for the parameterization of the service times at the Web servers (µ −1 W S = 12.98ms), at the DB servers (µ −1 DB = 10.64ms), and for the local communication (µ −1 W S−DB−Comm = 1.12ms).
The ratio between static object requests and Web pages requests is set to 9.15 : 1 as measured in [3].
We fix the routing probability from the communication link to each subsystem to 1/J.
We use the median file size measured in [3] which is approximately three packets.
The mean, variance, skewness and lag-1 autocorrelation of inter-arrival times between packets is set as in the real workload used in Section 6.2.4.
With these parameters, the fitted MAP at the communication links is a MAP(2) with rates v 1,2 Net = 0.8074, v 2,1 Net = 0.2107, µ 1,1 Net = 14.5809, µ 1,2 Net = 0.0, µ 2,1 Net = 0.0, and µ 2,2 Net = 131.7814.
Results.
Since, due to the state space explosion, exact global balance solutions are prohibitive for M ≥ 4, we report in Table 9 the relative gap Rmax/Rmin − 1 between LR upper and lower response time bounds for different value of J.
According to the model definition, the number of queues M is equal to 3J +1, where the additional queue is representative of inbound/outbound traffic.
As J increases, there is little impact on the accuracy of the method which remains acceptable on all populations.
In particular, as the population increases the error decreases below 10% on models with large populations.To summarize, we have provided numerical evidence that the LR bounds provide accurate estimates using an extensive set of experiments.
Sensitivity analysis to the different parameters has been conducted to identify the major sources of inaccuracy for the LR bounds.
Recent workload characterizations have shown that nonrenewal service processes are good abstractions of real systems' workloads, especially of those found in storage systems and Web servers [24,25,31].
We have shown that existing queueing network models, which always consider renewal service processes and do not account for nonrenewal features such as autocorrelation in service times, grossly overestimate or underestimate actual system performance.We have presented a solution to this problem by studying a new class of MAP closed networks that supports nonrenewal service.
We have introduced a class of exact state space reductions that are Relative gap Rmax/R min − 1 of upper and lower bounds (0 ≡ 0%, 1 ≡ 100%) on the response time R = N/X (R min =lower bound, Rmax=upper bound).
computationally tractable and allow the efficient computation of upper and lower linear reduction (LR) bounds on arbitrary MAP network performance indexes, such as utilizations, throughputs, response times, and queue-lengths.
To the best of our knowledge, this is the first time that bounds for queueing networks with MAP service are obtained.
The LR bounds AMPL specification together with additional resources on MAP queueing networks are available at http://www.cs.wm.edu/MAPQN/.
Experiments indicate that the LR bounds are extremely accurate, showing on average a 2% relative error on the response time with a maximum error of 14% (for 99% of the random models the maximum error is also found to be less than 10%).
We also remark that if the objective function f used in the program in Figure 6 is a nonlinear function of π, our result immediately generalizes to the nonlinear case provided that the results are global optima.An important extension of this work is the optional inclusion of delay servers into the MAP network.
Since the service rates of a delay are load-dependent, this requires a generalization of our work to the load-dependent case.
It may be also interesting to extend the presented class of MAP networks to include additional scheduling disciplines or multiclass workloads in order to fully subdue the class of product-form queueing networks.
Finally, it may be interesting to compare our bounds with standard diffusion or asymptotic approximations.
This work was supported by the National Science Foundation under grants ITR-0428330 and CNS-0720699.
The authors thank Gianfranco Balbo, Jeff Buzen, Larry Dowdy, Giuseppe Serazzi, Murray Woodside, Qi Zhang, and the SIGMETRICS reviewers for detailed comments which greatly helped in improving the quality of this paper.
