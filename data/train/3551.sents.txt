Air-water communication is fundamental for eecient underwater operations, such as environmental monitoring, surveying , or coordinating of heterogeneous aerial and underwater systems.
Existing wireless techniques mostly focus on a single physical medium and fall short in achieving high-bandwidth bidirectional communication across the air-water interface.
We propose a bidirectional, direct air-water wireless communication link based on laser light, capable of (1) adapting to water dynamics with ultrasonic sensing and (2) steering within a full 3D hemisphere using only a MEMS mirror and passive optical elements.
In real-world experiments, our system achieves static throughputs up to 5.04 Mbps, zero-BER transmission ranges up to 6.1 m in strong ambient light conditions, and connection time improvements between 47.1% and 29.5% during wave dynamics.
The underwater world is still largely unexplored, yet surveying and monitoring submerged sites is fundamental for many applications including archaeology [18], biology [40], and disaster response [42].
It is generally recognized that using multiple heterogeneous cyberphysical assets -e.g., ying vehicles for a bird's eye view and underwater sensors and vehicles for informed data collection -will advance such eeorts [19,28,59].
One of the challenges for underwater autonomous deployments is limited communication between assets underwater and in the air.
This hinders the situational awareness and coordination of underwater vehicles, dataprocessing, and human supervision [47].
One conventional strategy is to periodically let the underwater vehicle surface to share data [54], which is ineecient due to time not being spent on the task.
Another strategy is to deploy an infrastructure (e.g., network of buoys) at the water surface, connected to both the underwater assets (via acoustic transducers, completely in the water) and the ground station (via tethering or WiFi [30]).
This deployment connguration increases the cost and logistical overhead, limiting the overall scalability [39].
We seek solutions that support direct wireless communi- cation between air and underwater nodes without the need of surface relays.
Existing wireless communication technologies, however, mainly focus on a single physical medium and thus do not eeectively cross the physical air-water boundary, impairing communication performance.
As examples, acoustic communication is the mainstream for underwater scenarios but does not cross the air-water boundary since acoustic waves are mostly reeected by the air-water interface [49]; on the other hand, wireless technologies using radio frequencies (RF) are widely deployed in the air but not underwater since radio signals suuer from severe attenuation in the water (3.5-5 dB/m) and result in short communication ranges [45,70].
A recent work [67] designs a direct water-air communication link by combining an acoustic link in the water and RF sensing in the air.
Nevertheless, this method only enables a unidirectional link (from water to air), supports only centimeter-level distances above the water, and achieves severely low data rates (400 bps) that are insuucient for most underwater monitoring applications [26].
settings to examine both link performance and robustness.
We summarize our key ndings as below:• AmphiLight achieves bidirectional, 5.04 Mbps throughputs with BERs less than 10 −3 up to 6.5 m in the air and 2.5 m underwater; • AmphiLight adapts to wave dynamics (10 -12 cm wave amplitude and 1-Hz wave frequency) with a 47.1% throughput improvement over no laser steering; • AmphiLight is robust against environmental factors including strong sunlight and air/water turbulence at meter ranges; • The ultrasonic sensing achieves an accuracy of 1.5 cm in the air and 0.5-1.0 cm in the water.
Despite the potential of green-blue laser light for direct airwater communication, we face numerous systems challenges in achieving high link speed and link reliability.Laser Hardware Limitations.
Although laser diodes (LDs) are small and relatively inexpensive -making them strong contenders for mobile applications -integrating them into portable platforms for high-speed communication is challenging due to heating and power issues.
Our experiments with oo-the-shelf LDs show that their temperature rises over time when constantly on.
3 The temperature rise causes the central emission wavelength to shift by a few nanometers [7], which is undesirable as shown later in §3.1.
Better heat dissipation requires dedicated temperature controllers and active heatsinks, which are bulky (9 lbs), expensive (≥$1000), and power hungry (up to 60 W) [8].
Additionally, commercial LDs are limited in terms of their optical output powers and wavelength availability.
Specifically, blue and green TO-Can LDs are typically limited to 450 nm and 520 nm with optical powers between 30 mW and 140 mW and high power options between 900 mW and 3 W [9].
To maintain stable output power, LDs are typically powered with bench-top power supplies with current and voltage limits or mobile drivers that do not support fast modulation bandwidths (e.g., only up to 2 MHz [16]).
The power consumption of low-power LDs ranges from a few milliwatts to multiple watts, making mobile-friendly micro-controllers incapable of consistent, safe, and eecient LD operation.Ambient Light Interference.
Given the sparse availability of blue/green LDs, low-power options are the only choice for mobile applications.
Thus, strong ambient light, especially in outdoor scenarios, imposes a nontrivial challenge of maintaining high data rates with reasonable signal-to-noise ratios (SNR) at meter-level distances.
Even worse, outdoor sunlight can easily saturate sensitive photodiodes (PDs) at the receiver, making it unresponsive to encoded light changes from the transmitter.
To illustrate this point, we measured the SNR of an oo-the-shelf PD (OPT101) under varying ambient light intensities.
Speciically, we collocate a LX1330B light meter with OPT101 and place a 140 mW LD and Osram 5500T03 LED 20 cm away, where the LED light emulates ambient light interference.
Next, we vary the intensity of the LED and measure the resulting SNR at the PD.
As the LED illuminance approaches values associated with outdoor ambient light (e.g., ≥10,000 lx in indirect sunlight), the SNR quickly drops below 3 dB (speciically, 3.2 dB at 5700 lx and 0.6 dB at 8070 lx).
Furthermore, PDs capable of detecting low-level light need to have suuciently high gain, making them susceptible to saturation under intense ambient light (the OPT101 became saturated when the LED intensity approached 14,500 lx).
Laser Beam Steering.
Supporting arbitrary underwater/aerial robot locations demands precise steering of the narrow laser beam in a wide range.
Existing laser steering mechanisms, however, face a fundamental tradeoo between steering range and granularity.
Traditionally, FSO beam steering [37,44,58,60,64,75] uses mechanical gimbals for 360° coarse-grained steering and then additional mechanisms for secondary, ne-grained adjustments [36,46,57].
Although mechanical gimbals can support a large angular steering range, they are bulky, imprecise, and not intended for use in mobile settings.
On the other hand, the mechanisms used for ne-grained steering (e.g., microelectromechanical-systems (MEMS) mirrors [29,41,50,51,77], acousto-optic deeectors (AODs) [60,69], tunable lenses [22,52,82,82]) only achieve millirad/single degree steering ranges [46], constraining the receiver location to a narrow cone around the transmitter.Environmental Dynamics.
In real world environments, such as lakes or oceans, the water's surface is dynamic, rendering a laser link unsustainable due to refraction at the air-water interface.
The impact of water dynamics is twofold:(1) A change in water level caused by precipitation or a tide can disrupt the optical link permanently.
For example, a rise in the water level will move the incident point on the surface to a new position if the incident angle is not 0°.
Consequently, the refracted light will be translated and miss the underwater receiver ( Fig. 2(a)).
Based on geometry, the horizontal displacement of the light beam is ∆h(tan α − tan β), where ∆h is the level change, α is the incident angle, and β is the angle of refraction.
A level change of 1 m 4 with a 30° incident angle results in 17 cm displacement of the beam, far beyond the diameter of common light sensors (a few mm); (2) Periodic surface waves caused by wind or moving objects can swing the refracted light around the receiver.
The oscillation causes the optical link to deviate from the receiver (Fig. 2(b)).
Our experiment shows that waves with ∼10 cm peak-to-peak amplitudes make the link unavailable for ∼70% of the time.
We present the basic laser communication link design able to (1) achieve suucient data rates (i.e., Mbps for underwater drone communication and sensing) with oo-the-shelf laser diodes and (2) support a hemispherical steering range to connect the transmitter and receiver at arbitrary locations.
Transmitter.
To support Mbps throughputs and low energy consumption -important tradeoo design for underwater drones -we adopt the DarkLight concept in [65].
Specifically, DarkLight applies overlapping pulse position modulation (OPPM), where data is encoded into the position of the rising edge of a light pulse within a symbol.
We extend DarkLight to LDs, leveraging LD's fast switching speeds to increase the data rate while still maintaining a low duty cycle.
This leads to a signiicant improvement in throughput from Kbps with LEDs to Mbps with LDs, as shown later in §6.
Reducing the duty cycle removes the need for a dedicated temperature controller as the laser will remain oo the majority of the time.
Furthermore, a low duty cycle reduces the power consumption issues typically associated with laser communication, allowing us to power the LD with a microcontroller without sacriicing the data rate.
Even though OPPM is the most suitable choice for sustained communication 5 given the current laser hardware limitations, the AmphiLight framework is general and can be combined with other modulation schemes.
As advances in LD hardware will better address heating 6 and power issues in the future, other modulations schemes such as OOK or OFDM can be easily integrated into AmphiLight to further boost link data rates.
However, with higher-power modulation schemes, the eeects of turbulence, especially over long distances, might degrade the overall link quality.
Regard- Figure 3: The relative intensity spectrum of the sun compared to a low-power LD.
Utilizing a narrow bandpass lter from 518 nm to 522 nm, the SNR can be increased from -12.86 dB to 4.36 dB.less, fully leveraging the GHz switching speeds of LDs, an OOK implementation could achieve throughputs in the Gbps range with only a few mJ/bit.
Receiver.
We address the key challenge of the receiver design -to extract signals from low-power LDs amid strong ambient light interference while maintaining meter-level distances -via two design elements.
First, we add a narrow optical bandpass lter ($30 -$200) that allows only the narrow wavelength range of the laser light (connned only to a few nm [53]) to pass, and lter out the majority of the ambient light energy and signiicantly boost the signal-to-noise ratios (SNRs).
As an example, Fig. 3 plots the spectral power distribution of outdoor sunlight (measured on a sunny noon in August, 2019), as well as that of a low-power LD [13], measured by a Thorlabs CCS100 spectrometer.
We observe that the weak laser light is buried in the strong sunlight.
Nevertheless, adding an oo-the-shelf bandpass lter [12] with a ±2 nm bandwidth, we drastically improve the SNR.
Additionally, spectral ltering also addresses the problem of sensor saturation under strong ambient light.
Second, we utilize an ultra-sensitive silicon photomultiplier (SiPM) light sensor, i.e., an array of avalanche photodiodes (APDs), with high gains, large active areas, and large angular responses [14].
7 Given the SiPM's signiicantly higher gain compared to traditional light sensors, we are able to maintain a suuciently high SNR even with low-powered LDs at meter-level distances.
We further increase the SNR by using an RF ampliier with a DC-bias cutoo, allowing us to amplify only the low-power laser light.
We adapt the ne-grained steering mechanism from FSO by expanding its limited steering range with a judiciouslydesigned optical circuit.
Speciically, we combine a smallangle MEMS mirror with a miniature sheye lens [24] to enlarge the small-angle steering to ±90° in two dimensions.As shown in Figure 4(a), a sheye lens is a combination of wide-angle lenses typically used to create hemispherical images for photographs.
Fisheye lenses concentrate light rays coming from a full hemisphere to a small image plane at the focal length, limited by the form factor of digital camera image sensors.
We exploit this optical feature to expand the Figure 5: Our proposed optical circuit design, using a small-angle MEMS mirror and sheye lens.
Not only can we achieve a full ±90° range in two dimensions, but the received power only deviates by 28% at extreme angles.narrow steering range of MEMS mirror.
Speciically, given the path symmetry of light propagation, we consider the inverse direction of the light path by sending a light ray through the image plane.
This leads to an outgoing light ray steered to a larger irradiance angle (Fig. 4(b)), thus expanding the small input steering range to an entire hemisphere.
Fig. 5 shows the optical circuit for laser beam steering.
An achromatic triplet lens [83] is added to keep a constant focal point on the sheye lens (i.e., correcting for spherical aberrations) [15].
It also concentrates the outgoing light ray from the MEMS mirror to the image plane of sheye lens to match the desired inverse propagation path.
Armed with the basic link design, we now set out to address challenges from dynamics at the air-water interface, aiming to improve link robustness in practical settings.
To mitigate the misalignment caused by water dynamics, a straw-man approach is to expand/diiuse the laser beam to keep the receiver within the light coverage during water dynamics.
This approach, however, greatly lowers the energy eeciency of communication and demands high-power LDs to support meter-level distances.
Another approach is to blindly steer the laser beam and scan all directions to search for the direction that reaches the receiver.
The resulting overhead to scan the whole steering range (up to hundreds of ms with existing MEMS mirrors), however, reduces the link throughput.
It also requires a feedback channel from the receiver, which may be equally unavailable due to misalignment.Instead, we consider a more proactive approach where the system continuously senses the condition (both the water level and the shape of the wavy surface) of the air-water interface, computes the optimal direction to reach the receiver, and then steers the laser beam correspondingly to sustain the link's connection (Fig. 6).
To sense the water surface condition, we start by examining the eecacy of existing techniques.
Vision-based methods with depth cameras have been widely used to reconstruct the 3D shape of objects.
These methods, however, are unable to sense the shape of water surfaces because light mostly penetrates the air-water interface and reeects almost no light for the depth camera to reconstruct the surface.
Our experiments with an Intel RealSense D435i depth camera shows that depth information is only correct when a piece of paper is placed on the water surface.
Alternatively, one can consider RF-based methods, i.e., mmWave radar which has been shown to sense the distance from air to water at µm-level accuracy [67].
Given the severe attenuation of RF signals in the water, however, RF-based methods cannot be applied to underwater transmitters for sensing the water surface.
Additionally, reconstructing the water surface requires an array of mmWave radars that can cost thousands of dollars.The above exploration leads us to consider the acoustic medium.
Speciically, we consider ultrasonic distance sensors to avoid interference from ambient noises.
Ultrasonic distance sensors work in both air and water, and thus can be used by both aerial and underwater transmitters to sense the air-water interface and adapt the outgoing laser beam direction.
Additionally, the accuracy of ultrasonic distance sensors are on the mm-level and are aaordable (e.g., $1 each).
Depth Sampling via Ultrasonic Sensing.
To sense the shape of the water surface, a single ultrasonic sensor is insuucient.
Instead, we employ an array of M sensors that are uniformly distributed on the transmitter plane.
Because all sensors operate at the same acoustic frequency and are close to each other, simultaneous measurements cause interference.
Therefore, we instruct the sensors to sample the distance sequentially.
The sequential measurements result in a sensing latency that grows linearly with the number of sensors and proportionally to the distance between the transducers and water surface.
In our implementation with 16 sensors, generating each snapshot of the surface is approximately 50 ms (20 Hz frame rate) which can impair the eecacy of beam steering for faster waves.
8 To lower the latency of the sensor array, we propose to forecast the height samples of the water surface.
Instead of waiting for the readings from all sensors to be ready, we can forecast the distances based on historical data.
It is possible to forecast the height of the water because water surface waves are periodic.
Speciically, we output distances from all sensor positions once a new reading is available from a sensor (e.g., at time t cur ).
If the readings from other sensors are not ready at that time, we will use the forecasted distances.
Because the water wave is periodic, we can use the Fourier transform for forecasting, i.e., estimate the frequency and phase of the waves despite the variable latency.
Speciically, we buuer a window of the most recent N readings for each sensor x k (k ∈ [0, N − 1]), 9 compute the Discrete-time Fourier Transform (DFT) in the window, estimate the period of the major frequency component T , and forecast the reading x N by linear interpolation at time t x N − T .
If the timestamp of x N is ahead of t cur , we will linearly interpolate between x N−1 and x N .
Our measurements show that the forecast distances using historical readings align well with the measured distances.
Forecasting reduces the sensing latency of each frame (i.e., time period between adjacent frames) to 1/16 of the nonforecast method, approximately 3 ms. Since the movement of the water waves between frames is the source of sensing errors, the forecasting error is 1/16 of the non-forecast error.
This forecasting method assumes a single major frequency in the water waves.
For more complicated waves, in the future we can investigate advanced forecasting methods, such as ARIMA and RNN (which require training and higher computational cost).
Reconstructing Wave Surface.
To reconstruct a continuous wave surface for every frame, we need to interpolate between the discrete distance samples output by the array.
We adopt a bicubic surface model [33] to t the outputs:h(x, y) = 3 ∑ i=0 3 ∑ i=0 a i j x i y j ,where (x, y) is the coordinate on the horizontal plane relative to the center of the sensor array, h(x, y) is the height of wave at (x, y), and a i j 's are the parameters of the surface.
Bicubic surface is widely used in 2D interpolation.
We choose this model for its shape exibility and computational simplicity.
We t the model using linear regression, which is computationally inexpensive and suitable for real-time reconstruction.
The linear system is h h h = X X Xβ β β + β 0 , where h h h is a vector of the measurement distances by each sensor, and X X X is a matrix that is constructed by the coordinates of the sensors.
Put formally, X X X is calculated as:X X X =      x 3 1 y 3 1 x 3 1 y 2 1 x 3 1 y 1 x 3 1 · · · y 3 1 y 2 1 y 1 x 3 2 y 3 2 x 3 2 y 2 2 x 3 2 y 2 x 3 2 · · · y 3 2 y 2 2 y 2 . . . x 3 M y 3 M x 3 M y 2 M x 3 M y M x 3 M · · · y 3 M y 2 M y M      ,where each row is for a sensor.
The coeecients β β β and β 0 are the parameters of the surface, i.e., β β β = {a i j |i, j ∈ {0, 1, 2, 3}} − {a 00 }.
10 The model, therefore, contains 16 parameters 11 in total.
With M ultrasonic sensors and thus M measurements, we employ regularized linear regression to prevent overrtting and the loss function isf (β β β, β 0 ) = M ∑ i=1 h i − β 0 − 15 ∑ j=1 β j X X X i j + λ 15 ∑ j=1 β 2 j ,where λ is a hyper-parameter that controls the penalty on the parameters.
In our implementation, λ = 5 × 10 −5 .
Once the shape of the surface wave is estimated, we next seek an incident point on the surface such that the refracted light can reach the receiver.
The incident light and refracted light must be subject to Snell's law.
However, this equation is intractable because of the trigonometric functions, i.e, we have to solve the incident point position numerically.
First, we model the problem as an optimization problem (Fig. 7).
For every possible point on the surface, we are able to determine the direction of the refracted light ( r) according to Snell's law and the direction from the incident point to the receiver ( t).
If the discrepancy between the two directions (θ) is zero, the previous equation is exactly solved.
Therefore, we are looking for the incident point that minimizes the discrepancy θ, i.e., maximize cos θ:Maximize cos θ = r · t | r|| t| (1a) subj.
to: r = p m + n (1b) p = p| m| | n| = sin β sin(α − β) (1c) n = ∂h ∂x , ∂h ∂y , −1 (1d)Here n is the surface normal unit vector, m is the direction vector of the incident light, n water is the refractive index of water, and sin α sin β = n water .
To calculate r, we rst determine the direction of the surface normal ( n) according to 1d.
Suppose the direction vector of the incident light is m, which 10 β 0 is another name for a 00 .
11 Although we estimate the model parameters without any prior knowledge, we could utilize the physics of dispersion [4] to model the constraints between the diierent parameters (e.g., between wavelength and wave speed).
This could improve the accuracy of the model, but is beyond the scope of this paper.
Figure 7: Geometric model of nding the optimal path to reach the receiver.
We model nding the incident point on the surface such that the laser can reach the receiver as an optimization problem.
This gure shows a single solution in the solution space, where the optimization happens over all possible solutions.
We minimize the angle discrepancy (θ) between the refracted light ( r) and the target path that reaches the receiver ( t) subject to Snell's law which governs the relation between the angles of incidence (α) and refraction (β).
is also a unit vector.
According to Snell's law, the incident light, the refracted light, and the surface normal are coplanar.
The refracted light's direction can thus be written in the form of 1b, where p is calculated according to law of sines and Snell's law (1c).
Assuming the transmitter is in the air and the receiver is underwater, n water is the refractive index of water (we can take the reciprocal if the transmitter and receiver exchange positions).
Notice that all the quantities are functions of (x, y). )
if e < ε then break p p p n = p p p + α∇ end z = h(p p p) // z coordinate on surface γ x = arctan(p p p x /abs(z)) γ y = arctan(p p p y /abs(z)) return (γ x , γ y )We solve the optimization problem by gradient ascent (Algo.
1).
We compute the gradient (∇ cos θ) following the chain rule.
For each frame, we set the initial incident point as the incident point of the previous frame.
The spatial and temporal continuity of the water wave and the observation of the optimization result show that the new incident point should be close to the previous one because the change of the surface shape is small between adjacent frames.
All the computation, including the forecasting, surface reconstruction, and path nding, can be completed within 1 ms. Note that wave sensing, path nding, and beam steering occur in parallel with the data transmission, incurring no overhead on the optical link.
Notably, our algorithm has the potential to fail if some of the characteristics are beyond the sensing capabilities of the ultrasonic array: wavelength is smaller than the separation between the ultrasonic sensors; wave frequency is higher than the sensing frequency.
We discuss improvements to the sensing and reconstruction in §7.
Our prototype includes a transmitter, which encompasses the optical circuit, electronic circuit, modulation scheme, and ultrasonic sensor array, and a receiver that includes optical ltering and receiver hardware.Transmitter.
Our transmitter utilizes a small, mobile optical circuit relying on a single MEMS mirror and passive optical components to achieve a hemispherical steering range.
The complete package is shown in Fig. 8(b).
We mount a 140 mW TO-Can PLT3520D LD ($89) within a Thorlabs S1LM38 passive heatsink and focus the light to a 2° halfangle beam with an A110TM-A aspheric lens ($90).
We use a 3.6 mm MEMS mirror mounted on an A7B1.1 actuator in a TINY20.4 package from MirrorcleTech ($798), providing roughly ±6.6° mechanical deeection on the x/y axes and 0.003° angular resolution.
12 The mirror is xed to a MirrorcleTech mount and screwed into a Thorlab B5C1 optics mount.
The cage cube platform is rotated 45° relative to the mounted LD.
We mount a Thorlabs TRH254-040-A triplet lens ($78, ≈ 1% loss) and Sunnex DSL419B-NIR-F2.0 miniature sheye lens ($99, ≈ 10.5% loss) within a Thorlabs SM1L20 lens tube.
We decreased the distance between optimal components to maximize the nal output power.
Since the MEMS mirror's center point changes with gravity, we mount the lens tube on a Thorlabs CCM1-P01 45° mirror cube, allowing us to evaluate the parallel and perpendicular hemispheres without changing the mirror's alignment.
Fig. 8(a) shows the designed electronic circuit to transmit data.
An Arduino Due ($32) processes the payload and split it into M-bit chunks.
We implement an FPGA pulse timer on a Basys3 ($149) with a clock speed of 100 MHz.
We establish a serial connection between the Arduino and the FPGA and transmit the required OPPM parameters (e.g., symbol length, slot width, pulse width) and processed payload to the FPGA.
The FPGA parses the data and outputs the pulses on a single GPIO pin.
To supply enough power to the LD, we utilize a TI LMG1020EVM-006 laser diode driver ($154) which also shortens the input pulse width up to 45%.
To communicate between the FPGA and driver, we shift the logic levels with a Digilent 410-320 PMOD logic level shifter ($14).
Finally, to 12 Our MEMS mirror has a mechanical range ±6.6090° on the x-axis and ±6.5586° on the y-axis.
Furthermore, the mirror's ADC has a resolution of 12 bits, making the angular resolution 0.003° on the x and y axes.
maintain mobility, we power all the components with the Arduino preprocessor and three voltage step-up converters.To achieve a suucient throughput in our prototype, we encode ve bits per symbol and decrease the slot width to its minimum value (i.e., one clock cycle of 10 ns).
To ensure the LD reaches its peak power within one pulse, we set the pulse width to 150 ns resulting in a duty cycle of 13.70%.
Since SiPM's experience exponential decay, we add a 300 ns guard interval, T G , at the end of each symbol for the sensor to reset.
A 2 µs xed delay occurs after the last symbol, giving the receiver time to diierentiate between adjacent packets.
Our modulation parameters enable a maximum throughput of 5.04 Mbps.
Note that faster FPGAs exist (e.g., up to 600 Mhz clock speeds [17]) which would support shorter slot widths and consequently faster throughputs (up to 30.22 Mbps with a slot width of 1.7 ns).
Finally, as shown in Fig. 9, we implement our ultrasonic sensing array using 4×4 HC-SR04 sensors [6] ($4 each), each sensor 6 cm apart from adjacent nodes.
13 The 16 sensors measure the distance from the transmitter plane to the water surface sequentially.
Currently, the sensing latency of every data frame is approximately 3 ms with forecasting at a distance of 20 cm above the water.
Notably, as the distance increases, the measurement will become less accurate since the ultrasonic beam will cover a larger area and the sensing latency will be higher due to the increased propagation delay.
In our implementation, we set the exit condition of our gradient ascent algorithm (Algo.
1) using an error tolerance of 0.005 radians.
We implement the wave shape tting and optical path determination using C++.
We leverage the MLpack library for the regularized linear regression and FFTW for the forecasting.
Finally, our ultrasonic sensor array can be replicated for underwater transmitter by employing cheap waterproof ultrasonic sensors [10] and we discuss various ways to reduce the sensing latency increase the wave sensing accuracy in §7.
Receiver.
Given the eeects of ambient light on the receiver SNR, we implement wavelength ltering tuned to the emission wavelength of our LD.
Although bandpass lters are the optimal choice given their narrow pass regions (e.g., 5 nm-10 nm), they require incident light to be nearly perpendicular to the lter for it to pass [1].
Since we aim to support arbitrary positions and orientations of the receiver, we instead complement our SiPM sensor's large angular response with a large-FOV colored glass lter -a Thorlabs FGV9 lter ($40) that passes light between 485nm and 565nm.
In stronger ambient light conditions, a bandpass lter can be implemented with a concentrating lens (e.g., sheye lens) in front of it (essentially using the same optical setup as the transmitter).
Finally, to detect the laser pulses, we use a KETEK PM3315-WB-B0 SiPM ($72, active area of 5 mm × 5 mm and 3 dB acceptance angle of 180°) connected to a KETEK PEPCB-EVAL bias board ($65).
The SiPM is biased with 5.0 V and 5 mA, shortening the decay time of the sensor to around 60 ns.
The signal from the bias board is fed to a MiniCircuits ZX60-P103LN+ RF ampliier ($70) powered with 5 V and 100 mA.
We then utilize a Keysight MSOS254A 2.5 Ghz, 20 GSa/s oscilloscope to record the pulses received by the SiPM and demodulate the signals with MATLAB.
We discuss our initial results at bringing real time demodulation to our transmitter via an analog circuit in §7.
We extensively evaluate the link performance and reliability of our air-water laser link in various settings.
We rst examine link throughput, bit error rates (BER), and communication distance.
In these experiments, the transmitter and receiver are manually aligned.
The angle of irradiance from the transmitter and the incident angle into the receiver are all zero unless otherwise speciied.
Experiments are mostly conducted in two settings: 1) a swimming pool (22.8 m × 10 m × 1.8 m); and 2) a water tank with clear fresh water (1.6 m × 1.75 m × 0.63 m).
The ambient light intensity was between 380 lx and 450 lx throughout the experiments and the power consumption for each component can be found in Tab.
1.
Evaluation Methodology.
To capture nanosecond laser pulses, we use a Keysight MSOS254A oscilloscope to record the data, which is then transferred to a laptop for demodulation.
This methodology, however, is limited by oscilloscope's buuer size.
Speciically, the timing resolution of the oscilloscope is inversely proportional to the capture window size, meaning longer capture windows have inaccurate timing resolutions (i.e., laser pulses are missed or misaligned, causing demodulation errors and higher BERs).
To overcome this issue, we transition from our stationary oscilloscope receiver to an Arduino Due receiver.
Speciically, we rst obtain a mapping between the SNR and throughput/BER using the oscilloscope receiver to decode data in real time.
Then when switching to the Arduino receiver, we instruct the transmitter to send a continuous wave for the Arduino to measure the SNR and map it to the corresponding throughput/BER.
We have validated the accuracy of this methodology in experiments with a water tank in a lab setting, where we observe negligible diierences between the estimated and actual throughput/BER with these two receivers.
This methodology greatly facilitates our experiments during dynamic waves.
Our ongoing work is to fabricate an analog circuit for detecting nanosecond light pulses without the need of an oscilloscope or expensive GHz-level ADC ( §7).
Calm Water.
We start by examining the link performance link under calm water.
As shown in Fig. 10, we rst place the receiver in a waterproof container with an SMA cable protruding from the bottom of the enclosure and connected to our oscilloscope on land.
Second, we place the receiver underwater in a swimming pool and vary the distance to the surface from 0.5 m to 1.1 m. Third, we x the transmitter to a tripod and place it on the bank of the pool, varying the height from 1 m to 2 m. Finally, we ensure the angle of irradiance out of the transmitter and incident angle into the receiver is below 10° at all times.As shown in Fig. 11(a) and 11(b), we measure the average throughputs and BERs for each distance conguration.
Throughout our experiments, the mean throughput was constantly above 5.03 Mbps and the BER below 0.01.
Notably, the limited depth of the swimming pool and low ceiling height reduced the measurable range considerably.
To further evaluate the potential of our link, we measure the range of the link separately in the air and in the water.
To measure the range in the water, we place two mirrors at the long ends of a 50 cm sh tank and bounce the laser between them to increase the propagation path.
As depicted in Fig. 11(c), we are able to achieve a zero-BER range in the air up to 6.5 m and a zero-BER range in the water up to 2.5 m. Consequently, we expect the air portion of our joint results to approach 6 m before the link degrades.
Given the power loss associated with the light hitting the mirrors, however, we expect the underwater range to extend beyond our measured 2.5 m. Next, to validate link bidirectionality, we place TX in a waterproof enclosure (weighs 4.8 lbs and measures 11.5 cm × 36 cm × 11.5 cm).
To t TX in the waterproof tube, we perform the following modiications: (1) remove the MEMS mirror and x the laser directly to the triplet lens//sheye lens tube; (2) replace the 140 mW PLT3520D LD with an 80 mW PLT5520B LD to mount within an adjustable focus enclosure; (3) power TX with a 9-V battery and decrease the LD driver supply to 6.5 V.
We then x the underwater distance to 17 cm and vary the air distance from 32 cm to 71 cm.
We record the receiver's SNR and throughput in each direction.
As shown in Tab.
2, the throughputs remained stable with a comparable decrease at 71 cm 14 corresponding to a mean BER of 0.00016 (RX underwater) and 0.00028 (TX underwater).
Furthermore, the SNRs at each distance connguration varied, at most, by 2.6% indicating a symmetric link.
The small discrepancy is most likely due to small oosets in beam alignment.
Dynamic Water.
We now move on to examining link performance under water dynamics.
We augment the TX with the ultrasonic sensor array and conduct the experiments in the water tank setting (Fig. 12) because of the ease of mounting the sensor array.
We place the sensor array and TX 33 cm above the water surface in the middle of the tank to better simulate real-world conditions, e.g., the middle of a lake.
To generate waves, we stir the water by hand for ten seconds, creating roughly uniform waves with amplitudes between 10 -12 cm and wave frequency of approximately 14 This range is smaller than our measured zero-BER range given the optical circuit modiications (i.e., lower power LD) and decreased transmitter power supply.
1 Hz.
We then wait ve seconds before recording the SNR on our Arduino for an additional ten seconds.
To determine the connection percentage, we look at the percentage of time SNR is above 13.18 dB, the required threshold to maintain 5.04 Mbps throughput with 8 × 10 −5 BER.
To compute the throughput, we multiply the measured connection time by the corresponding mapped throughput.
We compare our method to two baselines: (1) No steering, where the direction of the light is xed without any response to the waves, resulting in a frequent loss of link connection during wave dynamics; (2) Wave sensing w/o forecasting, which is a variant of our proposed sensing method in §4 without the forecasting, i.e., the system collects data from all ultrasonic sensors before estimating the wave surface and steering the laser beam.
We test each method in ten trials.
Fig. 12 compares the throughput under various methods, where error bars covering standard deviations are also included.
We make the following observations: First, methods with wave sensing improves link throughput, achieving 29.5% and 47.1% increases compared to no steering.
The improvement is due to the higher percentage of link connection with wave sensing.
Without steering, the link is disconnected 48.13% of the time because of the periodic wave surface changes, whereas active sensing and laser steering improves the connection percentage to 82.80%.
Second, between the sensing methods with and without forecasting, forecasting achieves an additional gain because of its reduction in sensing delay, resulting in faster adaptation of the beam direction to wave movement.
Third, compared to prior work [67] which only supports throughputs up to 400 bps, our system maintains a throughput of 4.2 Mbps with OPPM during wave dynamics -a 10,500 times improvement.
Types of Water Waves.
While our prior experiments with dynamic water show the high potential of our sens- ing method, the results are under a single type of wave.
It is practically diicult to precisely generate waves with known parameters and compare methods under exactly the same water waves.
To gain a deeper understanding on the impact of diierent wave characteristics and compare methods more fairly, we build a simulator to generate synthetic waves and emulate the performance using various methods.
Speciically, we simulate the water surface with a sinusoidal wave h(x, y,t) = A sin(ωx + ϕt) 15 , which is widely used in computer graphics to synthesize water waves [32,56].
To exclude the innuence of modulation, we use the percentage of the throughput relative to the static link to represent the link reliability.
In our simulation, TX and ultrasonic sensor array are placed 20 cm above the water surface.
Because the half-angle of our laser beam is 2°, we consider the data to be decodable if the angle deviation between the RX and the laser beam center is less than 2°.
We simulate the process for a whole period of the wave because the wave is periodic.
By default, the wave's wavelength is 40 cm, peak-to-peak amplitude is 10 cm, and frequency is 1 Hz.
Fig. 13 compares our method to that without steering as we vary the wave characteristics including wave amplitude, wavelength, and frequency.
We observe that our method signiicantly improves link reliability in most scenarios.
We also gain two additional insights: (1) The performance of wave sensing degrades with increasing amplitude.
This is due to the regularization in the surface interpolation, which gives a higher penalty for more curly waves.
The performance also degrades with decreasing wavelength, which is constrained by the Nyquist sampling theorem.
The distance between the acoustic sensor dictates the smallest wavelength that our method can reconstruct with high delity.
A straightforward solution to address both degradations is to increase the density of the acoustic sensors at the expense of raising costs and complexity of sensor placement.
A more sophisticated solution is to employ compressive sensing with incoherent sampling.
We will discuss this more in §7.
(2) The performance degrades gradually when the frequency increases in the normal range (0.1-3 Hz [61]).
Even with the fastest waves (3 Hz), our method can sustain more than 75% of the throughput.
If higher reliability is desirable, we can further lower the sensing latency by using frequency-division multiplexing among the acoustic sensors, which will increase 15 2A is peak-to-peak amplitude.
2π/ω is wavelength.
2π/ϕ is frequency.
the hardware complexity of the sensors.
Compared to [67], which could support a sustained link up to 16 cm waves and no communication past 22 cm, our system maintains a ≥ 80% reliability up to 14 cm and 50% reliability up to 20 cm.Sunlight.
Given that our ultimate application scenario is outdoors, we evaluate the impact of strong sunlight on our link.
Focusing on the air portion of the link, we vary the distance between the TX and RX in both indoor and outdoor scenarios and compare the resulting throughputs/BERs.
We compare two extremes: a low-light condition indoors with illuminance between 5 and 7 lx and the strong-light condition (73.900 lx) outdoors, typical for direct sunlight at noon [3].
As shown in Fig. 14, the link performance under strong sunlight is similar to indoors within an 8 m link distance.
It achieves zero-BER at 6.1 m distance outdoors, compared to zero-BER at 6.5 m indoors with low ambient light.
The link distance under low light is slightly larger because of its higher SNR.
This demonstrates that our RX design is robust to strong sunlight, beneeting from the narrow emission bandwidth of laser light and spectral ltering.Air Turbulence.
Air turbulence is known to aaect light propagation due to the change in pressure/temperature [34,73].
We next investigate its impact on the laser link and ultrasonic sensing.
Given that pressure/temperature diierentials are diicult to generate without dedicated equipment, we generate air current with a typical tabletop fan.
Speciically, we place a laser and target 13 m apart.
Next, we align the laser so it is in the middle of the target.
We then place a fan on one side of the laser and turn it to its highest setting.
Within one minute, we observed no changes in beam's alignment.
The reason is that the distances supported by the system are immune to their eeects, since air turbulence only degrades the signal quality at distances greater than 1 km [81].
Furthermore, we investigate the accuracy of our ultrasonic sensing with the inclusion of wind.
We place a fan close to the acoustic path of the ultrasonic sensor that is continuously measuring the distance to the water surface.
Results show that the measurement accuracy is not aaected by the air ow or the acoustic noise caused by the wind.
This is because the velocity of sound (340 m/s) is higher than wind (a few m/s) and the acoustic frequency of ultrasonic sensors is beyond that of wind in the audible range.Water Turbulence.
We also investigate whether water turbulence has an impact on the laser beam's propagation.
We place a laser on one end of a 50-cm sh tank and a crosshair target on the other, aligning the two when the water is still.
We then stir the water turbulently and observe the beam's propagation through the water.
As long as the beam does not strike any object or the water's surface, we observed that the path remains throughout the turbulent ow.
This result is expected given the short range tested.
Similar to air turbulence, water turbulence is caused by changes in pressure and temperature [72,78].
In other words, turbulent changes in temperature/pressure cause the refractive indices of eddies to change and bend light as it travels along its path.
Water turbulence, however, can be much higher than in the atmosphere given the higher density levels underwater [35].
Our nal set of experiments examines the accuracy of the ultrasonic sensing component.Sensing in the Air.
First, we evaluate the eecacy of ultrasonic sensing with a benchmark experiment.
Because accurate reconstruction of liquid surfaces remains an open question in computer vision [20,38,56,76] and also in ocean engineering where numerical models used for predicting ocean waves are at kilometer scale [23,48,66], we are unable to obtain the ground truth of an actual water surface.
Therefore, we emulate the shape of waves by curving a piece of glossy poster paper by a peak-to-peak amplitude of 10 cm and wavelength of 24 cm.
The sensor array is placed 20 cm above the emulated wave.
We move the sensor array above diierent sections (e.g., crest and trough) of the wave to show the exibility of the bicubic surface model.
We manually measure the wave height at multiple positions as ground truth.
Results show our sensing method and surface model successfully sense the height of the wave and reconstruct the wave shape with a median error of 1.5 cm.Sensing in the Water.
We validate the eecacy of underwater ultrasonic sensing with another benchmark experiment.
We place a BlueRobotics Echosounder on a BlueRobotics BlueROV 2 underwater robot and record the acoustic distance over time.
We sent 16 pings/second, xed the gain to -4.4, and decreased the speed of sound from 1450 m/s to 1400 m/s to compensate for the chlorine water in the pool.
Additionally, we use a tape measure to measure the distance from the sensor to the surface.
After varying the distance between 56 cm and 89 cm, we observed an accuracy of 0.5 cm to 1 cm depending on the depth (the resolution decreased with larger ranges), which is similar to that in the air.
Thus, we expect an array of sensors should perform similarly.
Mobility.
Currently, when our receiver changes its location (e.g., moves from the air to under water), the transmitter is unable to track and steer.
However, since our transmitter is capable of steering to any arbitrary location within full hemisphere, we expect it can solve the mobility problem associated with air-to-water communication.
The small beam divergence associated with laser light can enable the transmitter's laser beam to be reused for passive sensing.
In that scenario, accurate retroreeectors can be collocated with each receiver and allow the transmitter to sense whether it has hit its target.
The transmitter can then switch to transmission mode for a xed duration and then resume sensing once complete.
We can also combine the acoustic sensors and the retroreeected laser light to locate the receiver underwater to provide the coordinates of the receiver as input to determine the path while the receiver is moving.Analog Receiver.
Another ongoing work is to enable realtime demodulation with an analog circuit and microcontroller.
Our analog circuit is a cascade of four stages: (1) ampliier, (2) envelope detector, (3) comparator and (4) demodulator.
After ampliication, the signal's long-term average amplitude is extracted with the envelope detector.
Whenever the signal exceeds half of its long-term average amplitude, the comparator trips, and an OPPM pulse is registered.
The threshold and original unbiased signal are then fed to a nanosecond-level comparator to determine whether the received voltage is an OPPM pulse.
To determine the timing between pulses, we feed the output of the comparator to a time-to-digital converter (e.g., TI TDC7201-ZAX-EVM).
After synchronizing the clocks of the transmitter and the receiver, we can use an oo-the-shelf microcontroller (e.g., Arduino) to start the timer before each symbol.
The comparator output is then wired to stop the time-to-digital converter, which stores timing information until encountering the next stop signal.
To ensure that no pulses are lost, the microcontroller reads the previous timing information before sending the next start signal.Improving Wave Sensing.
Since the sensing accuracy aaects the accuracy of the wave reconstruction, it also contributes to the accuracy of the laser beam steering.
Therefore, if we can further improve the sensing accuracy and latency, then we can reduce the ultrasonic beam angle, utilize a lower power transceiver, and still maintain the reliability and throughput of the link.
First, we can greatly increase the frame rate of the waving sensing by frequency division multiplexing.
The current acoustic sensor array relies on sequential distance measurements to prevent interference.
Assigning near sensors to diierent acoustic frequencies, however, can eliminate the interference at the cost of more expensive sensors with broader modulation bandwidth [43].
Second, given the form factor of ultrasonic sensors (∼1 cm), we are unable to achieve a spatial resolution as high as that of cameras because of the limited number of depth samples.
To overcome this limit, we can employ compressed sensing to reconstruct wave shape with ner granularity by incoherent sampling conditioning on the sparsity of the spatial frequency of water waves.
The challenge of applying com-pressed sensing is its high computational cost [27] due to the real-time requirement of laser beam steering.
Third, we can exploit the characteristics of the water waves in the time domain to improve the accuracy.
For example, we can leverage Guassian process to model the similarity of frequencies at near positions of the wave.Real-World Evaluation.
We recorded various preliminary ocean dynamics to validate our AmphiLight methodology and simulation results.
Speciically, we built a waterproof buoy to measure the frequency and peak-to-peak amplitude of waves in Barbados over a two-day period.
From our results, we observed waves with an average frequency between 1 Hz and 1.5 Hz and peak-to-peak amplitudes between 5 cm and 8 cm.
Furthermore, we measured the throughput of our system under the same wave conditions, and observed an average throughput of 3.1 Mbps corresponding to a connection time of only 61%.
Comparing these measurements to our simulation results in Fig. 13, our AmphiLight system is capable of compensating for waves with these characteristics.In terms of link range, the maximum distance achievable in a real-world environment depends on the laser and ultrasonic sensors.
As for the laser, the limiting factor is the optical output power (i.e., the higher power the laser, the farther it will travel before attenuating).
In our implementation, there was some optical output power loss in the optical circuit.
Speciically, our sheye lens had an optical loss of ≈10.5% and extensive scattering right after exiting the lens.
Additionally, the sensing range of the ultrasonic transceivers was another limiting factor.
In our current prototype, lowcost transceivers emit low-power waves with large beam divergences, limiting the link range to a few meters.
To accommodate real-world scenarios, where the waves are dynamic and unpredictable, the laser power and sensing power should be increased and beam divergence decreased (e.g. < 1 degree) to maintain a suucient range.
Air-Water Communication.
Air-water communication is a topic far less explored.
An early work [55] in 1992 reported a laser link between an aircraft and a submerged submarine, though minimal details about the system design and implementation were disclosed.
In the concept gure, the aircraft broadcasts a laser beam with large eld of view, which potentially imposes a high energy budget.
A later work [21] demonstrated a static laser link achieving 5.3 Gbps data rate over a 5-m air channel and a 21-m water channel, using benchtop equipment (e.g., benchtop power supplies, arbitrary wave-form generator).
It validated the potential of laser light for air-water communication, though assumed a static environment without addressing practical challenges such as scattering and waves.
[71] further considered the impact of water height on laser communication to build an adaptive water-air-water link.
Assuming a calm water surface, their proposed system does not address issues arising from capillary waves common in real applications.
[80] focused on advancing modulation scheme design to mitigate the impact of atmospheric turbulence.
Although a water channel was also included as part of the propagation path in the evaluation, no water-related dynamics were addressed in their design.
Unlike above works exploring narrow-beam laser light with strict alignment requirements, [63] studied a diiuse optical link with diierent modulation schemes (e.g., OFDM, QAM) and the impact of waves on the resulting data rates.
In comparison, our work considers a narrow and collimated laser beam to save energy while presenting systems solutions to address water wave movement.
A recent work [67] combined acoustics and RF to realize the direct link from water to air.
Our work diiers in that (1) we explore a different medium, (2) our methodology supports bidirectional communication, and (3) we achieve much higher data rates.Wireless Optical Communication.
Wireless optical communication has been well studied in airborne and underwater scenarios individually [45,62,79,81].
The highest reported data rates are 40 Gbps for an airborne link (tested between two buildings ∼1 km apart using a laser with an undisclosed optical power [31]) and 12.4 Gbps for an underwater link (evaluated in a water tank up to ∼10 m [74] using a 26 mW laser).
In water, the attenuation of light (0.39 dB/m) falls between acoustic (0.1-4 dB/km) and RF (3.5-5 dB/m), resulting in a typical communication range of tens of meters [45].
Speciically for robotics applications, [25] demonstrated the use of an LED-based optical link for remote control of their robot.
Inspired by these prior works, we establish an optical link across the air-water boundary.
We focus on using oo-theshelf hardware to build a portable transmitter and receiver suitable for mobile underwater and aerial robots.
Furthermore, we address practical systems challenges speciically related to wave dynamics to enhance link robustness.
We presented AmphiLight, a new system framework that enables a bidirectional air-water communication link using laser light.
The implemented prototype uses an oo-the-shelf MEMS mirror, sheye lens, LD, and SiPM.
Together, with the ultrasonic sensing design, the system performs robustly in real-world experiments.
Final results showed throughputs up to 5.04 Mbps at 6.5 m in the air and 2.5 m underwater, making AmphiLight a promising technology to be deployed on ying and underwater drones.
We sincerely thank reviewers for their insightful feedback and Monika Roznere for her help with the Barbados experiments.
This work is supported in part by National Science Foundation (GRFP-1840344, MRI-1919647, CNS-1552924) and the Colby College DavisConnects Research Grant.
Any opinions, ndings, and conclusions or recommendations expressed in this material are those of the authors and do not necessarily reeect those of the funding agencies or others.
